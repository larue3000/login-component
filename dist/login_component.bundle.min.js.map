{"version":3,"sources":["webpack://login-component/webpack/universalModuleDefinition","webpack://login-component/webpack/bootstrap","webpack://login-component/./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack://login-component/./node_modules/crypto-js/core.js","webpack://login-component/./node_modules/js-cookie/src/js.cookie.js","webpack://login-component/./node_modules/crypto-js/hmac-sha256.js","webpack://login-component/./node_modules/crypto-js/sha256.js","webpack://login-component/./node_modules/crypto-js/enc-base64.js","webpack://login-component/./node_modules/crypto-js/lib-typedarrays.js","webpack://login-component/(webpack)/buildin/global.js","webpack://login-component/./node_modules/base64-js/index.js","webpack://login-component/./node_modules/ieee754/index.js","webpack://login-component/./node_modules/isarray/index.js","webpack://login-component/./node_modules/crypto-js/hmac.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/BigInteger.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/DateHelper.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/UserAgent.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/Client.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","webpack://login-component/./node_modules/amazon-cognito-identity-js/es/CookieStorage.js","webpack://login-component/./node_modules/lit-html/lib/directive.js","webpack://login-component/./node_modules/lit-html/lib/dom.js","webpack://login-component/./node_modules/lit-html/lib/part.js","webpack://login-component/./node_modules/lit-html/lib/template.js","webpack://login-component/./node_modules/lit-html/lib/template-instance.js","webpack://login-component/./node_modules/lit-html/lib/template-result.js","webpack://login-component/./node_modules/lit-html/lib/parts.js","webpack://login-component/./node_modules/lit-html/lib/default-template-processor.js","webpack://login-component/./node_modules/lit-html/lib/template-factory.js","webpack://login-component/./node_modules/lit-html/lib/render.js","webpack://login-component/./node_modules/lit-html/lit-html.js","webpack://login-component/./node_modules/lit-html/lib/modify-template.js","webpack://login-component/./node_modules/lit-html/lib/shady-render.js","webpack://login-component/./node_modules/lit-element/lib/updating-element.js","webpack://login-component/./node_modules/lit-element/lib/decorators.js","webpack://login-component/./node_modules/lit-element/lib/css-tag.js","webpack://login-component/./node_modules/lit-element/lit-element.js","webpack://login-component/./src/login-component.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","length","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","this","Error","allocUnsafe","from","TypeError","ArrayBuffer","array","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","len","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","push","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","e","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","Array","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","CryptoJS","F","subtype","C","C_lib","lib","Base","extend","overrides","mixIn","init","$super","instance","properties","propertyName","clone","WordArray","words","sigBytes","encoder","Hex","stringify","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","random","nBytes","rcache","m_w","m_z","mask","result","_r","C_enc","enc","hexChars","bite","parse","hexStr","hexStrLength","Latin1","latin1Chars","latin1Str","latin1StrLength","Utf8","decodeURIComponent","escape","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","_doProcessBlock","processedWords","splice","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","HMAC","algo","OldCookies","Cookies","api","noConflict","attributes","decode","converter","document","path","defaults","expires","Date","toUTCString","JSON","test","stringifiedAttributes","attributeName","split","cookie","json","jar","cookies","parts","charAt","getJSON","remove","withConverter","HmacSHA256","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","W","SHA256","_hash","M","f","g","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","Base64","map","_map","base64Chars","triplet","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bits1","bits2","parseLoop","superInit","typedArray","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","typedArrayByteLength","Function","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","output","isLE","mLen","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","dbits","AuthenticationDetails","Constructor","_classCallCheck","_ref","ValidationData","Username","Password","AuthParameters","ClientMetadata","validationData","authParameters","clientMetadata","username","password","getUsername","getPassword","getValidationData","getAuthParameters","getClientMetadata","BigInteger","nbi","inBrowser","navigator","appName","am","w","xl","xh","v","DB","DM","DV","FV","F1","F2","rr","vv","BI_RM","BI_RC","int2char","intAt","nbv","fromInt","nbits","Montgomery","mp","invDigit","mpl","mph","um","mt2","convert","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","reduce","u0","drShiftTo","mulTo","multiplyTo","sqrTo","squareTo","k","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","ONE","qd","addTo","negate","km","bitLength","mod","add","subtract","multiply","divide","modPow","callback","z","k1","g2","is1","r2","initN","AuthenticationHelper","PoolName","N","hexHash","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","_this","largeAValue","calculateA","err","hexRandom","generateRandomString","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","_this2","combinedString","hashedString","hash","padHex","verifierDevicesNotPadded","_this3","A","calculateU","B","UHexHash","hashHex","computehkdf","ikm","salt","infoBitsWordArray","ikmWordArray","saltWordArray","prk","hmac","getPasswordAuthenticationKey","serverBValue","_this4","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","_this5","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","hashStr","CognitoJwtToken","token","jwtToken","payload","decodePayload","getJwtToken","getExpiration","exp","getIssuedAt","iat","_CognitoJwtToken","CognitoAccessToken","AccessToken","self","ReferenceError","_possibleConstructorReturn","subClass","superClass","constructor","writable","setPrototypeOf","_inherits","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","getToken","CognitoUserSession","ClockDrift","idToken","refreshToken","accessToken","clockDrift","calculateClockDrift","getIdToken","getRefreshToken","getAccessToken","getClockDrift","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","now","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","Value","getValue","setValue","getName","setName","dataMemory","MemoryStorage","setItem","getItem","removeItem","clear","StorageHelper","storageWindow","localStorage","exception","getStorage","CognitoUser","Pool","pool","Session","client","signInUserSession","authenticationFlowType","storage","Storage","keyPrefix","getClientId","userDataKey","setSignInUserSession","clearCachedUserData","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","clientMetaData","keys","jsonReq","AuthFlow","ClientId","getUserContextData","UserContextData","request","onFailure","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","onSuccess","authenticateUser","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","SECRET_BLOCK","signatureString","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","newPasswordRequired","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","userAgent","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","getDeviceResponse","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","forEach","NEW_PASSWORD","_this6","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","clearCachedUser","updateAttributes","UserAttributes","getUserAttributes","userData","attributeList","attribute","userAttribute","getMFAOptions","getUserData","params","_this10","bypassCache","latestUserData","cacheUserData","refresh","refreshSession","refreshError","deleteAttributes","UserAttributeNames","resendConfirmationCode","getSession","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","cachedSession","_this11","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","clearCachedTokens","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","verifyAttribute","Code","getDevice","forgetSpecificDevice","forgetDevice","_this12","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","paginationToken","Limit","PaginationToken","globalSignOut","_this13","signOut","sendMFASelectionAnswer","_this14","associateSoftwareToken","_this15","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this16","UserCode","FriendlyDeviceName","errRespond","dataRespond","UserAgent","Client","region","endpoint","operation","options","headers","method","cache","body","response","fetch","then","resp","catch","ok","__type","pop","error","Message","_error","statusCode","status","ex","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","userPoolId","clientId","advancedSecurityDataCollectionFlag","signUp","cognitoUser","returnData","user","userConfirmed","UserConfirmed","userSub","UserSub","codeDeliveryDetails","CodeDeliveryDetails","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","CookieStorage","domain","secure","index","directives","WeakMap","isDirective","has","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","nextSibling","removeChild","noChange","nothing","marker","nodeMarker","markerRegex","RegExp","boundAttributeSuffix","Template","element","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","partIndex","strings","values","node","nextNode","nodeType","hasAttributes","count","endsWith","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","attributeValue","getAttribute","removeAttribute","statics","tagName","currentNode","parent","parentNode","lastIndex","insert","createMarker","createTextNode","insertBefore","previousSibling","suffix","isTemplatePartActive","part","createComment","template","processor","__parts","commit","fragment","cloneNode","importNode","nodeIndex","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","html","isCommentBinding","commentOpen","attributeMatch","createElement","innerHTML","getHTML","isPrimitive","isIterable","iterator","AttributeCommitter","dirty","_createPart","text","setAttribute","_getValue","committer","directive","__pendingValue","startNode","appendChild","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","valueAsString","templateFactory","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","addEventListener","removeEventListener","_e","eventName","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","getOptions","event","defaultTemplateProcessor","prefix","templateCache","templateCaches","stringsArray","keyString","Map","getTemplateElement","walkerNodeFilter","removeNodesFromTemplate","nextActiveIndexInTemplateParts","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","startIndex","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","templateElement","styles","querySelectorAll","condensedStyle","style","textContent","templates","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","notEqual","old","defaultPropertyDeclaration","reflect","hasChanged","microtaskPromise","Promise","resolve","STATE_HAS_UPDATED","STATE_UPDATE_REQUESTED","STATE_IS_REFLECTING_TO_ATTRIBUTE","STATE_IS_REFLECTING_TO_PROPERTY","STATE_HAS_CONNECTED","finalized","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","initialize","_classProperties","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","_ensureClassProperties","noAccessor","oldValue","_requestUpdate","superCtor","props","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","_v","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","reject","previousUpdatePromise","rej","_hasConnected","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","_styleSheet","replaceSync","css","acc","idx","textFromCSSResult","flattenStyles","flat","arrayFlat","_styles","_getUniqueStyles","userStyles","reduceRight","unshift","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","host","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","delete","redirectUrl","redirect","errorMessage","getUserFromStorage","handleUsername","handlePassword","clickHandler","oldval","newval","attributeChangedCallback","poolData","userPool","authenicationData","authenicationDetails","location","href"],"mappings":"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","file":"login_component.bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"login-component\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"login-component\"] = factory();\n\telse\n\t\troot[\"login-component\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar AuthenticationDetails = function () {\n\t/**\n  * Constructs a new AuthenticationDetails object\n  * @param {object=} data Creation options.\n  * @param {string} data.Username User being authenticated.\n  * @param {string} data.Password Plain-text password to authenticate with.\n  * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n  * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n  */\n\tfunction AuthenticationDetails(data) {\n\t\t_classCallCheck(this, AuthenticationDetails);\n\n\t\tvar _ref = data || {},\n\t\t    ValidationData = _ref.ValidationData,\n\t\t    Username = _ref.Username,\n\t\t    Password = _ref.Password,\n\t\t    AuthParameters = _ref.AuthParameters,\n\t\t    ClientMetadata = _ref.ClientMetadata;\n\n\t\tthis.validationData = ValidationData || {};\n\t\tthis.authParameters = AuthParameters || {};\n\t\tthis.clientMetadata = ClientMetadata || {};\n\t\tthis.username = Username;\n\t\tthis.password = Password;\n\t}\n\n\t/**\n  * @returns {string} the record's username\n  */\n\n\n\tAuthenticationDetails.prototype.getUsername = function getUsername() {\n\t\treturn this.username;\n\t};\n\n\t/**\n  * @returns {string} the record's password\n  */\n\n\n\tAuthenticationDetails.prototype.getPassword = function getPassword() {\n\t\treturn this.password;\n\t};\n\n\t/**\n  * @returns {Array} the record's validationData\n  */\n\n\n\tAuthenticationDetails.prototype.getValidationData = function getValidationData() {\n\t\treturn this.validationData;\n\t};\n\n\t/**\n  * @returns {Array} the record's authParameters\n  */\n\n\n\tAuthenticationDetails.prototype.getAuthParameters = function getAuthParameters() {\n\t\treturn this.authParameters;\n\t};\n\n\t/**\n  * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n  */\n\n\n\tAuthenticationDetails.prototype.getClientMetadata = function getClientMetadata() {\n\t\treturn this.clientMetadata;\n\t};\n\n\treturn AuthenticationDetails;\n}();\n\nexport default AuthenticationDetails;","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\n\nexport default BigInteger;\n\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n\n// (public) Constructor\nfunction BigInteger(a, b) {\n\tif (a != null) this.fromString(a, b);\n}\n\n// return new, unset BigInteger\nfunction nbi() {\n\treturn new BigInteger(null);\n}\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe;\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n\twhile (--n >= 0) {\n\t\tvar v = x * this[i++] + w[j] + c;\n\t\tc = Math.floor(v / 0x4000000);\n\t\tw[j++] = v & 0x3ffffff;\n\t}\n\treturn c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n\tvar xl = x & 0x7fff,\n\t    xh = x >> 15;\n\twhile (--n >= 0) {\n\t\tvar l = this[i] & 0x7fff;\n\t\tvar h = this[i++] >> 15;\n\t\tvar m = xh * l + h * xl;\n\t\tl = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n\t\tc = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n\t\tw[j++] = l & 0x3fffffff;\n\t}\n\treturn c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n\tvar xl = x & 0x3fff,\n\t    xh = x >> 14;\n\twhile (--n >= 0) {\n\t\tvar l = this[i] & 0x3fff;\n\t\tvar h = this[i++] >> 14;\n\t\tvar m = xh * l + h * xl;\n\t\tl = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n\t\tc = (l >> 28) + (m >> 14) + xh * h;\n\t\tw[j++] = l & 0xfffffff;\n\t}\n\treturn c;\n}\nvar inBrowser = typeof navigator !== 'undefined';\nif (inBrowser && j_lm && navigator.appName == 'Microsoft Internet Explorer') {\n\tBigInteger.prototype.am = am2;\n\tdbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != 'Netscape') {\n\tBigInteger.prototype.am = am1;\n\tdbits = 26;\n} else {\n\t// Mozilla/Netscape seems to prefer am3\n\tBigInteger.prototype.am = am3;\n\tdbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz';\nvar BI_RC = new Array();\nvar rr, vv;\nrr = '0'.charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) {\n\tBI_RC[rr++] = vv;\n}rr = 'a'.charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n\tBI_RC[rr++] = vv;\n}rr = 'A'.charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n\tBI_RC[rr++] = vv;\n}function int2char(n) {\n\treturn BI_RM.charAt(n);\n}\nfunction intAt(s, i) {\n\tvar c = BI_RC[s.charCodeAt(i)];\n\treturn c == null ? -1 : c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n\tfor (var i = this.t - 1; i >= 0; --i) {\n\t\tr[i] = this[i];\n\t}r.t = this.t;\n\tr.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n\tthis.t = 1;\n\tthis.s = x < 0 ? -1 : 0;\n\tif (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) {\n\tvar r = nbi();\n\n\tr.fromInt(i);\n\n\treturn r;\n}\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n\tvar k;\n\tif (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n\tthis.t = 0;\n\tthis.s = 0;\n\tvar i = s.length,\n\t    mi = false,\n\t    sh = 0;\n\twhile (--i >= 0) {\n\t\tvar x = intAt(s, i);\n\t\tif (x < 0) {\n\t\t\tif (s.charAt(i) == '-') mi = true;\n\t\t\tcontinue;\n\t\t}\n\t\tmi = false;\n\t\tif (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n\t\t\tthis[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n\t\t\tthis[this.t++] = x >> this.DB - sh;\n\t\t} else this[this.t - 1] |= x << sh;\n\t\tsh += k;\n\t\tif (sh >= this.DB) sh -= this.DB;\n\t}\n\tthis.clamp();\n\tif (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n\tvar c = this.s & this.DM;\n\twhile (this.t > 0 && this[this.t - 1] == c) {\n\t\t--this.t;\n\t}\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n\tif (this.s < 0) return '-' + this.negate().toString();\n\tvar k;\n\tif (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n\tvar km = (1 << k) - 1,\n\t    d,\n\t    m = false,\n\t    r = '',\n\t    i = this.t;\n\tvar p = this.DB - i * this.DB % k;\n\tif (i-- > 0) {\n\t\tif (p < this.DB && (d = this[i] >> p) > 0) {\n\t\t\tm = true;\n\t\t\tr = int2char(d);\n\t\t}\n\t\twhile (i >= 0) {\n\t\t\tif (p < k) {\n\t\t\t\td = (this[i] & (1 << p) - 1) << k - p;\n\t\t\t\td |= this[--i] >> (p += this.DB - k);\n\t\t\t} else {\n\t\t\t\td = this[i] >> (p -= k) & km;\n\t\t\t\tif (p <= 0) {\n\t\t\t\t\tp += this.DB;\n\t\t\t\t\t--i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (d > 0) m = true;\n\t\t\tif (m) r += int2char(d);\n\t\t}\n\t}\n\treturn m ? r : '0';\n}\n\n// (public) -this\nfunction bnNegate() {\n\tvar r = nbi();\n\n\tBigInteger.ZERO.subTo(this, r);\n\n\treturn r;\n}\n\n// (public) |this|\nfunction bnAbs() {\n\treturn this.s < 0 ? this.negate() : this;\n}\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n\tvar r = this.s - a.s;\n\tif (r != 0) return r;\n\tvar i = this.t;\n\tr = i - a.t;\n\tif (r != 0) return this.s < 0 ? -r : r;\n\twhile (--i >= 0) {\n\t\tif ((r = this[i] - a[i]) != 0) return r;\n\t}return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n\tvar r = 1,\n\t    t;\n\tif ((t = x >>> 16) != 0) {\n\t\tx = t;\n\t\tr += 16;\n\t}\n\tif ((t = x >> 8) != 0) {\n\t\tx = t;\n\t\tr += 8;\n\t}\n\tif ((t = x >> 4) != 0) {\n\t\tx = t;\n\t\tr += 4;\n\t}\n\tif ((t = x >> 2) != 0) {\n\t\tx = t;\n\t\tr += 2;\n\t}\n\tif ((t = x >> 1) != 0) {\n\t\tx = t;\n\t\tr += 1;\n\t}\n\treturn r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n\tif (this.t <= 0) return 0;\n\treturn this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n\tvar i;\n\tfor (i = this.t - 1; i >= 0; --i) {\n\t\tr[i + n] = this[i];\n\t}for (i = n - 1; i >= 0; --i) {\n\t\tr[i] = 0;\n\t}r.t = this.t + n;\n\tr.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n\tfor (var i = n; i < this.t; ++i) {\n\t\tr[i - n] = this[i];\n\t}r.t = Math.max(this.t - n, 0);\n\tr.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n\tvar bs = n % this.DB;\n\tvar cbs = this.DB - bs;\n\tvar bm = (1 << cbs) - 1;\n\tvar ds = Math.floor(n / this.DB),\n\t    c = this.s << bs & this.DM,\n\t    i;\n\tfor (i = this.t - 1; i >= 0; --i) {\n\t\tr[i + ds + 1] = this[i] >> cbs | c;\n\t\tc = (this[i] & bm) << bs;\n\t}\n\tfor (i = ds - 1; i >= 0; --i) {\n\t\tr[i] = 0;\n\t}r[ds] = c;\n\tr.t = this.t + ds + 1;\n\tr.s = this.s;\n\tr.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n\tr.s = this.s;\n\tvar ds = Math.floor(n / this.DB);\n\tif (ds >= this.t) {\n\t\tr.t = 0;\n\t\treturn;\n\t}\n\tvar bs = n % this.DB;\n\tvar cbs = this.DB - bs;\n\tvar bm = (1 << bs) - 1;\n\tr[0] = this[ds] >> bs;\n\tfor (var i = ds + 1; i < this.t; ++i) {\n\t\tr[i - ds - 1] |= (this[i] & bm) << cbs;\n\t\tr[i - ds] = this[i] >> bs;\n\t}\n\tif (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n\tr.t = this.t - ds;\n\tr.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n\tvar i = 0,\n\t    c = 0,\n\t    m = Math.min(a.t, this.t);\n\twhile (i < m) {\n\t\tc += this[i] - a[i];\n\t\tr[i++] = c & this.DM;\n\t\tc >>= this.DB;\n\t}\n\tif (a.t < this.t) {\n\t\tc -= a.s;\n\t\twhile (i < this.t) {\n\t\t\tc += this[i];\n\t\t\tr[i++] = c & this.DM;\n\t\t\tc >>= this.DB;\n\t\t}\n\t\tc += this.s;\n\t} else {\n\t\tc += this.s;\n\t\twhile (i < a.t) {\n\t\t\tc -= a[i];\n\t\t\tr[i++] = c & this.DM;\n\t\t\tc >>= this.DB;\n\t\t}\n\t\tc -= a.s;\n\t}\n\tr.s = c < 0 ? -1 : 0;\n\tif (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n\tr.t = i;\n\tr.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n\tvar x = this.abs(),\n\t    y = a.abs();\n\tvar i = x.t;\n\tr.t = i + y.t;\n\twhile (--i >= 0) {\n\t\tr[i] = 0;\n\t}for (i = 0; i < y.t; ++i) {\n\t\tr[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n\t}r.s = 0;\n\tr.clamp();\n\tif (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n\tvar x = this.abs();\n\tvar i = r.t = 2 * x.t;\n\twhile (--i >= 0) {\n\t\tr[i] = 0;\n\t}for (i = 0; i < x.t - 1; ++i) {\n\t\tvar c = x.am(i, x[i], r, 2 * i, 0, 1);\n\t\tif ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n\t\t\tr[i + x.t] -= x.DV;\n\t\t\tr[i + x.t + 1] = 1;\n\t\t}\n\t}\n\tif (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n\tr.s = 0;\n\tr.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n\tvar pm = m.abs();\n\tif (pm.t <= 0) return;\n\tvar pt = this.abs();\n\tif (pt.t < pm.t) {\n\t\tif (q != null) q.fromInt(0);\n\t\tif (r != null) this.copyTo(r);\n\t\treturn;\n\t}\n\tif (r == null) r = nbi();\n\tvar y = nbi(),\n\t    ts = this.s,\n\t    ms = m.s;\n\tvar nsh = this.DB - nbits(pm[pm.t - 1]);\n\t// normalize modulus\n\tif (nsh > 0) {\n\t\tpm.lShiftTo(nsh, y);\n\t\tpt.lShiftTo(nsh, r);\n\t} else {\n\t\tpm.copyTo(y);\n\t\tpt.copyTo(r);\n\t}\n\tvar ys = y.t;\n\tvar y0 = y[ys - 1];\n\tif (y0 == 0) return;\n\tvar yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n\tvar d1 = this.FV / yt,\n\t    d2 = (1 << this.F1) / yt,\n\t    e = 1 << this.F2;\n\tvar i = r.t,\n\t    j = i - ys,\n\t    t = q == null ? nbi() : q;\n\ty.dlShiftTo(j, t);\n\tif (r.compareTo(t) >= 0) {\n\t\tr[r.t++] = 1;\n\t\tr.subTo(t, r);\n\t}\n\tBigInteger.ONE.dlShiftTo(ys, t);\n\tt.subTo(y, y);\n\t// \"negative\" y so we can replace sub with am later\n\twhile (y.t < ys) {\n\t\ty[y.t++] = 0;\n\t}while (--j >= 0) {\n\t\t// Estimate quotient digit\n\t\tvar qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n\t\tif ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n\t\t\t// Try it out\n\t\t\ty.dlShiftTo(j, t);\n\t\t\tr.subTo(t, r);\n\t\t\twhile (r[i] < --qd) {\n\t\t\t\tr.subTo(t, r);\n\t\t\t}\n\t\t}\n\t}\n\tif (q != null) {\n\t\tr.drShiftTo(ys, q);\n\t\tif (ts != ms) BigInteger.ZERO.subTo(q, q);\n\t}\n\tr.t = ys;\n\tr.clamp();\n\tif (nsh > 0) r.rShiftTo(nsh, r);\n\t// Denormalize remainder\n\tif (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n\tvar r = nbi();\n\tthis.abs().divRemTo(a, null, r);\n\tif (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n\treturn r;\n}\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n\tif (this.t < 1) return 0;\n\tvar x = this[0];\n\tif ((x & 1) == 0) return 0;\n\tvar y = x & 3;\n\t// y == 1/x mod 2^2\n\ty = y * (2 - (x & 0xf) * y) & 0xf;\n\t// y == 1/x mod 2^4\n\ty = y * (2 - (x & 0xff) * y) & 0xff;\n\t// y == 1/x mod 2^8\n\ty = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff;\n\t// y == 1/x mod 2^16\n\t// last step - calculate inverse mod DV directly;\n\t// assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n\ty = y * (2 - x * y % this.DV) % this.DV;\n\t// y == 1/x mod 2^dbits\n\t// we really want the negative inverse, and -DV < y < DV\n\treturn y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n\treturn this.compareTo(a) == 0;\n}\n\n// (protected) r = this + a\nfunction bnpAddTo(a, r) {\n\tvar i = 0,\n\t    c = 0,\n\t    m = Math.min(a.t, this.t);\n\twhile (i < m) {\n\t\tc += this[i] + a[i];\n\t\tr[i++] = c & this.DM;\n\t\tc >>= this.DB;\n\t}\n\tif (a.t < this.t) {\n\t\tc += a.s;\n\t\twhile (i < this.t) {\n\t\t\tc += this[i];\n\t\t\tr[i++] = c & this.DM;\n\t\t\tc >>= this.DB;\n\t\t}\n\t\tc += this.s;\n\t} else {\n\t\tc += this.s;\n\t\twhile (i < a.t) {\n\t\t\tc += a[i];\n\t\t\tr[i++] = c & this.DM;\n\t\t\tc >>= this.DB;\n\t\t}\n\t\tc += a.s;\n\t}\n\tr.s = c < 0 ? -1 : 0;\n\tif (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n\tr.t = i;\n\tr.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) {\n\tvar r = nbi();\n\n\tthis.addTo(a, r);\n\n\treturn r;\n}\n\n// (public) this - a\nfunction bnSubtract(a) {\n\tvar r = nbi();\n\n\tthis.subTo(a, r);\n\n\treturn r;\n}\n\n// (public) this * a\nfunction bnMultiply(a) {\n\tvar r = nbi();\n\n\tthis.multiplyTo(a, r);\n\n\treturn r;\n}\n\n// (public) this / a\nfunction bnDivide(a) {\n\tvar r = nbi();\n\n\tthis.divRemTo(a, r, null);\n\n\treturn r;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n\tthis.m = m;\n\tthis.mp = m.invDigit();\n\tthis.mpl = this.mp & 0x7fff;\n\tthis.mph = this.mp >> 15;\n\tthis.um = (1 << m.DB - 15) - 1;\n\tthis.mt2 = 2 * m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n\tvar r = nbi();\n\tx.abs().dlShiftTo(this.m.t, r);\n\tr.divRemTo(this.m, null, r);\n\tif (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n\treturn r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n\tvar r = nbi();\n\tx.copyTo(r);\n\tthis.reduce(r);\n\treturn r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n\twhile (x.t <= this.mt2) {\n\t\t// pad x so am has enough room later\n\t\tx[x.t++] = 0;\n\t}for (var i = 0; i < this.m.t; ++i) {\n\t\t// faster way of calculating u0 = x[i]*mp mod DV\n\t\tvar j = x[i] & 0x7fff;\n\t\tvar u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;\n\t\t// use am to combine the multiply-shift-add into one call\n\t\tj = i + this.m.t;\n\t\tx[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n\t\t// propagate carry\n\t\twhile (x[j] >= x.DV) {\n\t\t\tx[j] -= x.DV;\n\t\t\tx[++j]++;\n\t\t}\n\t}\n\tx.clamp();\n\tx.drShiftTo(this.m.t, x);\n\tif (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) {\n\tx.squareTo(r);\n\n\tthis.reduce(r);\n}\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) {\n\tx.multiplyTo(y, r);\n\n\tthis.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e, m, callback) {\n\tvar i = e.bitLength(),\n\t    k,\n\t    r = nbv(1),\n\t    z = new Montgomery(m);\n\tif (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6;\n\n\t// precomputation\n\tvar g = new Array(),\n\t    n = 3,\n\t    k1 = k - 1,\n\t    km = (1 << k) - 1;\n\tg[1] = z.convert(this);\n\tif (k > 1) {\n\t\tvar g2 = nbi();\n\t\tz.sqrTo(g[1], g2);\n\t\twhile (n <= km) {\n\t\t\tg[n] = nbi();\n\t\t\tz.mulTo(g2, g[n - 2], g[n]);\n\t\t\tn += 2;\n\t\t}\n\t}\n\n\tvar j = e.t - 1,\n\t    w,\n\t    is1 = true,\n\t    r2 = nbi(),\n\t    t;\n\ti = nbits(e[j]) - 1;\n\twhile (j >= 0) {\n\t\tif (i >= k1) w = e[j] >> i - k1 & km;else {\n\t\t\tw = (e[j] & (1 << i + 1) - 1) << k1 - i;\n\t\t\tif (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n\t\t}\n\n\t\tn = k;\n\t\twhile ((w & 1) == 0) {\n\t\t\tw >>= 1;\n\t\t\t--n;\n\t\t}\n\t\tif ((i -= n) < 0) {\n\t\t\ti += this.DB;\n\t\t\t--j;\n\t\t}\n\t\tif (is1) {\n\t\t\t// ret == 1, don't bother squaring or multiplying it\n\t\t\tg[w].copyTo(r);\n\t\t\tis1 = false;\n\t\t} else {\n\t\t\twhile (n > 1) {\n\t\t\t\tz.sqrTo(r, r2);\n\t\t\t\tz.sqrTo(r2, r);\n\t\t\t\tn -= 2;\n\t\t\t}\n\t\t\tif (n > 0) z.sqrTo(r, r2);else {\n\t\t\t\tt = r;\n\t\t\t\tr = r2;\n\t\t\t\tr2 = t;\n\t\t\t}\n\t\t\tz.mulTo(r2, g[w], r);\n\t\t}\n\n\t\twhile (j >= 0 && (e[j] & 1 << i) == 0) {\n\t\t\tz.sqrTo(r, r2);\n\t\t\tt = r;\n\t\t\tr = r2;\n\t\t\tr2 = t;\n\t\t\tif (--i < 0) {\n\t\t\t\ti = this.DB - 1;\n\t\t\t\t--j;\n\t\t\t}\n\t\t}\n\t}\n\tvar result = z.revert(r);\n\tcallback(null, result);\n\treturn result;\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\n\nvar randomBytes = function randomBytes(nBytes) {\n\treturn Buffer.from(CryptoJS.lib.WordArray.random(nBytes).toString(), 'hex');\n};\n\nimport BigInteger from './BigInteger';\n\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\n\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n\n/** @class */\n\nvar AuthenticationHelper = function () {\n\t/**\n  * Constructs a new AuthenticationHelper object\n  * @param {string} PoolName Cognito user pool name.\n  */\n\tfunction AuthenticationHelper(PoolName) {\n\t\t_classCallCheck(this, AuthenticationHelper);\n\n\t\tthis.N = new BigInteger(initN, 16);\n\t\tthis.g = new BigInteger('2', 16);\n\t\tthis.k = new BigInteger(this.hexHash('00' + this.N.toString(16) + '0' + this.g.toString(16)), 16);\n\n\t\tthis.smallAValue = this.generateRandomSmallA();\n\t\tthis.getLargeAValue(function () {});\n\n\t\tthis.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n\n\t\tthis.poolName = PoolName;\n\t}\n\n\t/**\n  * @returns {BigInteger} small A, a random number\n  */\n\n\n\tAuthenticationHelper.prototype.getSmallAValue = function getSmallAValue() {\n\t\treturn this.smallAValue;\n\t};\n\n\t/**\n  * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n  * @returns {void}\n  */\n\n\n\tAuthenticationHelper.prototype.getLargeAValue = function getLargeAValue(callback) {\n\t\tvar _this = this;\n\n\t\tif (this.largeAValue) {\n\t\t\tcallback(null, this.largeAValue);\n\t\t} else {\n\t\t\tthis.calculateA(this.smallAValue, function (err, largeAValue) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcallback(err, null);\n\t\t\t\t}\n\n\t\t\t\t_this.largeAValue = largeAValue;\n\t\t\t\tcallback(null, _this.largeAValue);\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n  * helper function to generate a random big integer\n  * @returns {BigInteger} a random value.\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.generateRandomSmallA = function generateRandomSmallA() {\n\t\tvar hexRandom = randomBytes(128).toString('hex');\n\n\t\tvar randomBigInt = new BigInteger(hexRandom, 16);\n\t\tvar smallABigInt = randomBigInt.mod(this.N);\n\n\t\treturn smallABigInt;\n\t};\n\n\t/**\n  * helper function to generate a random string\n  * @returns {string} a random value.\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.generateRandomString = function generateRandomString() {\n\t\treturn randomBytes(40).toString('base64');\n\t};\n\n\t/**\n  * @returns {string} Generated random value included in password hash.\n  */\n\n\n\tAuthenticationHelper.prototype.getRandomPassword = function getRandomPassword() {\n\t\treturn this.randomPassword;\n\t};\n\n\t/**\n  * @returns {string} Generated random value included in devices hash.\n  */\n\n\n\tAuthenticationHelper.prototype.getSaltDevices = function getSaltDevices() {\n\t\treturn this.SaltToHashDevices;\n\t};\n\n\t/**\n  * @returns {string} Value used to verify devices.\n  */\n\n\n\tAuthenticationHelper.prototype.getVerifierDevices = function getVerifierDevices() {\n\t\treturn this.verifierDevices;\n\t};\n\n\t/**\n  * Generate salts and compute verifier.\n  * @param {string} deviceGroupKey Devices to generate verifier for.\n  * @param {string} username User to generate verifier for.\n  * @param {nodeCallback<null>} callback Called with (err, null)\n  * @returns {void}\n  */\n\n\n\tAuthenticationHelper.prototype.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n\t\tvar _this2 = this;\n\n\t\tthis.randomPassword = this.generateRandomString();\n\t\tvar combinedString = '' + deviceGroupKey + username + ':' + this.randomPassword;\n\t\tvar hashedString = this.hash(combinedString);\n\n\t\tvar hexRandom = randomBytes(16).toString('hex');\n\t\tthis.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n\n\t\tthis.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err, null);\n\t\t\t}\n\n\t\t\t_this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n\t\t\tcallback(null, null);\n\t\t});\n\t};\n\n\t/**\n  * Calculate the client's public value A = g^a%N\n  * with the generated random number a\n  * @param {BigInteger} a Randomly generated small A.\n  * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n  * @returns {void}\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.calculateA = function calculateA(a, callback) {\n\t\tvar _this3 = this;\n\n\t\tthis.g.modPow(a, this.N, function (err, A) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err, null);\n\t\t\t}\n\n\t\t\tif (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n\t\t\t\tcallback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n\t\t\t}\n\n\t\t\tcallback(null, A);\n\t\t});\n\t};\n\n\t/**\n  * Calculate the client's value U which is the hash of A and B\n  * @param {BigInteger} A Large A value.\n  * @param {BigInteger} B Server B value.\n  * @returns {BigInteger} Computed U value.\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.calculateU = function calculateU(A, B) {\n\t\tthis.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n\t\tvar finalU = new BigInteger(this.UHexHash, 16);\n\n\t\treturn finalU;\n\t};\n\n\t/**\n  * Calculate a hash from a bitArray\n  * @param {Buffer} buf Value to hash.\n  * @returns {String} Hex-encoded hash.\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.hash = function hash(buf) {\n\t\tvar str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n\t\tvar hashHex = SHA256(str).toString();\n\n\t\treturn new Array(64 - hashHex.length).join('0') + hashHex;\n\t};\n\n\t/**\n  * Calculate a hash from a hex string\n  * @param {String} hexStr Value to hash.\n  * @returns {String} Hex-encoded hash.\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.hexHash = function hexHash(hexStr) {\n\t\treturn this.hash(Buffer.from(hexStr, 'hex'));\n\t};\n\n\t/**\n  * Standard hkdf algorithm\n  * @param {Buffer} ikm Input key material.\n  * @param {Buffer} salt Salt value.\n  * @returns {Buffer} Strong key material.\n  * @private\n  */\n\n\n\tAuthenticationHelper.prototype.computehkdf = function computehkdf(ikm, salt) {\n\t\tvar infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n\t\tvar ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n\t\tvar saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n\n\t\tvar prk = HmacSHA256(ikmWordArray, saltWordArray);\n\t\tvar hmac = HmacSHA256(infoBitsWordArray, prk);\n\t\treturn Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n\t};\n\n\t/**\n  * Calculates the final hkdf based on computed S value, and computed U value and the key\n  * @param {String} username Username.\n  * @param {String} password Password.\n  * @param {BigInteger} serverBValue Server B value.\n  * @param {BigInteger} salt Generated salt.\n  * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n  * @returns {void}\n  */\n\n\n\tAuthenticationHelper.prototype.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n\t\tvar _this4 = this;\n\n\t\tif (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n\t\t\tthrow new Error('B cannot be zero.');\n\t\t}\n\n\t\tthis.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n\t\tif (this.UValue.equals(BigInteger.ZERO)) {\n\t\t\tthrow new Error('U cannot be zero.');\n\t\t}\n\n\t\tvar usernamePassword = '' + this.poolName + username + ':' + password;\n\t\tvar usernamePasswordHash = this.hash(usernamePassword);\n\n\t\tvar xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n\t\tthis.calculateS(xValue, serverBValue, function (err, sValue) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err, null);\n\t\t\t}\n\n\t\t\tvar hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue.toString(16)), 'hex'));\n\n\t\t\tcallback(null, hkdf);\n\t\t});\n\t};\n\n\t/**\n  * Calculates the S value used in getPasswordAuthenticationKey\n  * @param {BigInteger} xValue Salted password hash value.\n  * @param {BigInteger} serverBValue Server B value.\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tAuthenticationHelper.prototype.calculateS = function calculateS(xValue, serverBValue, callback) {\n\t\tvar _this5 = this;\n\n\t\tthis.g.modPow(xValue, this.N, function (err, gModPowXN) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err, null);\n\t\t\t}\n\n\t\t\tvar intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n\t\t\tintValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n\t\t\t\tif (err2) {\n\t\t\t\t\tcallback(err2, null);\n\t\t\t\t}\n\n\t\t\t\tcallback(null, result.mod(_this5.N));\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n  * Return constant newPasswordRequiredChallengeUserAttributePrefix\n  * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n  */\n\n\n\tAuthenticationHelper.prototype.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n\t\treturn newPasswordRequiredChallengeUserAttributePrefix;\n\t};\n\n\t/**\n  * Converts a BigInteger (or hex string) to hex format padded with zeroes for hashing\n  * @param {BigInteger|String} bigInt Number or string to pad.\n  * @returns {String} Padded hex string.\n  */\n\n\n\tAuthenticationHelper.prototype.padHex = function padHex(bigInt) {\n\t\tvar hashStr = bigInt.toString(16);\n\t\tif (hashStr.length % 2 === 1) {\n\t\t\thashStr = '0' + hashStr;\n\t\t} else if ('89ABCDEFabcdef'.indexOf(hashStr[0]) !== -1) {\n\t\t\thashStr = '00' + hashStr;\n\t\t}\n\t\treturn hashStr;\n\t};\n\n\treturn AuthenticationHelper;\n}();\n\nexport default AuthenticationHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\n\n/** @class */\n\nvar CognitoJwtToken = function () {\n\t/**\n  * Constructs a new CognitoJwtToken object\n  * @param {string=} token The JWT token.\n  */\n\tfunction CognitoJwtToken(token) {\n\t\t_classCallCheck(this, CognitoJwtToken);\n\n\t\t// Assign object\n\t\tthis.jwtToken = token || '';\n\t\tthis.payload = this.decodePayload();\n\t}\n\n\t/**\n  * @returns {string} the record's token.\n  */\n\n\n\tCognitoJwtToken.prototype.getJwtToken = function getJwtToken() {\n\t\treturn this.jwtToken;\n\t};\n\n\t/**\n  * @returns {int} the token's expiration (exp member).\n  */\n\n\n\tCognitoJwtToken.prototype.getExpiration = function getExpiration() {\n\t\treturn this.payload.exp;\n\t};\n\n\t/**\n  * @returns {int} the token's \"issued at\" (iat member).\n  */\n\n\n\tCognitoJwtToken.prototype.getIssuedAt = function getIssuedAt() {\n\t\treturn this.payload.iat;\n\t};\n\n\t/**\n  * @returns {object} the token's payload.\n  */\n\n\n\tCognitoJwtToken.prototype.decodePayload = function decodePayload() {\n\t\tvar payload = this.jwtToken.split('.')[1];\n\t\ttry {\n\t\t\treturn JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n\t\t} catch (err) {\n\t\t\treturn {};\n\t\t}\n\t};\n\n\treturn CognitoJwtToken;\n}();\n\nexport default CognitoJwtToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\n\nvar CognitoAccessToken = function (_CognitoJwtToken) {\n  _inherits(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        AccessToken = _ref.AccessToken;\n\n    _classCallCheck(this, CognitoAccessToken);\n\n    return _possibleConstructorReturn(this, _CognitoJwtToken.call(this, AccessToken || ''));\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport default CognitoAccessToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\n\nvar CognitoIdToken = function (_CognitoJwtToken) {\n  _inherits(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        IdToken = _ref.IdToken;\n\n    _classCallCheck(this, CognitoIdToken);\n\n    return _possibleConstructorReturn(this, _CognitoJwtToken.call(this, IdToken || ''));\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport default CognitoIdToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoRefreshToken = function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        RefreshToken = _ref.RefreshToken;\n\n    _classCallCheck(this, CognitoRefreshToken);\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  CognitoRefreshToken.prototype.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport default CognitoRefreshToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserSession = function () {\n\t/**\n  * Constructs a new CognitoUserSession object\n  * @param {CognitoIdToken} IdToken The session's Id token.\n  * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n  * @param {CognitoAccessToken} AccessToken The session's access token.\n  * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n  */\n\tfunction CognitoUserSession() {\n\t\tvar _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t\t    IdToken = _ref.IdToken,\n\t\t    RefreshToken = _ref.RefreshToken,\n\t\t    AccessToken = _ref.AccessToken,\n\t\t    ClockDrift = _ref.ClockDrift;\n\n\t\t_classCallCheck(this, CognitoUserSession);\n\n\t\tif (AccessToken == null || IdToken == null) {\n\t\t\tthrow new Error('Id token and Access Token must be present.');\n\t\t}\n\n\t\tthis.idToken = IdToken;\n\t\tthis.refreshToken = RefreshToken;\n\t\tthis.accessToken = AccessToken;\n\t\tthis.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n\t}\n\n\t/**\n  * @returns {CognitoIdToken} the session's Id token\n  */\n\n\n\tCognitoUserSession.prototype.getIdToken = function getIdToken() {\n\t\treturn this.idToken;\n\t};\n\n\t/**\n  * @returns {CognitoRefreshToken} the session's refresh token\n  */\n\n\n\tCognitoUserSession.prototype.getRefreshToken = function getRefreshToken() {\n\t\treturn this.refreshToken;\n\t};\n\n\t/**\n  * @returns {CognitoAccessToken} the session's access token\n  */\n\n\n\tCognitoUserSession.prototype.getAccessToken = function getAccessToken() {\n\t\treturn this.accessToken;\n\t};\n\n\t/**\n  * @returns {int} the session's clock drift\n  */\n\n\n\tCognitoUserSession.prototype.getClockDrift = function getClockDrift() {\n\t\treturn this.clockDrift;\n\t};\n\n\t/**\n  * @returns {int} the computer's clock drift\n  */\n\n\n\tCognitoUserSession.prototype.calculateClockDrift = function calculateClockDrift() {\n\t\tvar now = Math.floor(new Date() / 1000);\n\t\tvar iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n\n\t\treturn now - iat;\n\t};\n\n\t/**\n  * Checks to see if the session is still valid based on session expiry information found\n  * in tokens and the current time (adjusted with clock drift)\n  * @returns {boolean} if the session is still valid\n  */\n\n\n\tCognitoUserSession.prototype.isValid = function isValid() {\n\t\tvar now = Math.floor(new Date() / 1000);\n\t\tvar adjusted = now - this.clockDrift;\n\n\t\treturn adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n\t};\n\n\treturn CognitoUserSession;\n}();\n\nexport default CognitoUserSession;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n/** @class */\n\nvar DateHelper = function () {\n\tfunction DateHelper() {\n\t\t_classCallCheck(this, DateHelper);\n\t}\n\n\t/**\n  * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n  */\n\tDateHelper.prototype.getNowString = function getNowString() {\n\t\tvar now = new Date();\n\n\t\tvar weekDay = weekNames[now.getUTCDay()];\n\t\tvar month = monthNames[now.getUTCMonth()];\n\t\tvar day = now.getUTCDate();\n\n\t\tvar hours = now.getUTCHours();\n\t\tif (hours < 10) {\n\t\t\thours = '0' + hours;\n\t\t}\n\n\t\tvar minutes = now.getUTCMinutes();\n\t\tif (minutes < 10) {\n\t\t\tminutes = '0' + minutes;\n\t\t}\n\n\t\tvar seconds = now.getUTCSeconds();\n\t\tif (seconds < 10) {\n\t\t\tseconds = '0' + seconds;\n\t\t}\n\n\t\tvar year = now.getUTCFullYear();\n\n\t\t// ddd MMM D HH:mm:ss UTC YYYY\n\t\tvar dateNow = weekDay + ' ' + month + ' ' + day + ' ' + hours + ':' + minutes + ':' + seconds + ' UTC ' + year;\n\n\t\treturn dateNow;\n\t};\n\n\treturn DateHelper;\n}();\n\nexport default DateHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserAttribute = function () {\n\t/**\n  * Constructs a new CognitoUserAttribute object\n  * @param {string=} Name The record's name\n  * @param {string=} Value The record's value\n  */\n\tfunction CognitoUserAttribute() {\n\t\tvar _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t\t    Name = _ref.Name,\n\t\t    Value = _ref.Value;\n\n\t\t_classCallCheck(this, CognitoUserAttribute);\n\n\t\tthis.Name = Name || '';\n\t\tthis.Value = Value || '';\n\t}\n\n\t/**\n  * @returns {string} the record's value.\n  */\n\n\n\tCognitoUserAttribute.prototype.getValue = function getValue() {\n\t\treturn this.Value;\n\t};\n\n\t/**\n  * Sets the record's value.\n  * @param {string} value The new value.\n  * @returns {CognitoUserAttribute} The record for method chaining.\n  */\n\n\n\tCognitoUserAttribute.prototype.setValue = function setValue(value) {\n\t\tthis.Value = value;\n\t\treturn this;\n\t};\n\n\t/**\n  * @returns {string} the record's name.\n  */\n\n\n\tCognitoUserAttribute.prototype.getName = function getName() {\n\t\treturn this.Name;\n\t};\n\n\t/**\n  * Sets the record's name\n  * @param {string} name The new name.\n  * @returns {CognitoUserAttribute} The record for method chaining.\n  */\n\n\n\tCognitoUserAttribute.prototype.setName = function setName(name) {\n\t\tthis.Name = name;\n\t\treturn this;\n\t};\n\n\t/**\n  * @returns {string} a string representation of the record.\n  */\n\n\n\tCognitoUserAttribute.prototype.toString = function toString() {\n\t\treturn JSON.stringify(this);\n\t};\n\n\t/**\n  * @returns {object} a flat object representing the record.\n  */\n\n\n\tCognitoUserAttribute.prototype.toJSON = function toJSON() {\n\t\treturn {\n\t\t\tName: this.Name,\n\t\t\tValue: this.Value\n\t\t};\n\t};\n\n\treturn CognitoUserAttribute;\n}();\n\nexport default CognitoUserAttribute;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar dataMemory = {};\n\n/** @class */\n\nvar MemoryStorage = function () {\n\tfunction MemoryStorage() {\n\t\t_classCallCheck(this, MemoryStorage);\n\t}\n\n\t/**\n  * This is used to set a specific item in storage\n  * @param {string} key - the key for the item\n  * @param {object} value - the value\n  * @returns {string} value that was set\n  */\n\tMemoryStorage.setItem = function setItem(key, value) {\n\t\tdataMemory[key] = value;\n\t\treturn dataMemory[key];\n\t};\n\n\t/**\n  * This is used to get a specific key from storage\n  * @param {string} key - the key for the item\n  * This is used to clear the storage\n  * @returns {string} the data item\n  */\n\n\n\tMemoryStorage.getItem = function getItem(key) {\n\t\treturn Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n\t};\n\n\t/**\n  * This is used to remove an item from storage\n  * @param {string} key - the key being set\n  * @returns {string} value - value that was deleted\n  */\n\n\n\tMemoryStorage.removeItem = function removeItem(key) {\n\t\treturn delete dataMemory[key];\n\t};\n\n\t/**\n  * This is used to clear the storage\n  * @returns {string} nothing\n  */\n\n\n\tMemoryStorage.clear = function clear() {\n\t\tdataMemory = {};\n\t\treturn dataMemory;\n\t};\n\n\treturn MemoryStorage;\n}();\n\n/** @class */\n\n\nvar StorageHelper = function () {\n\t/**\n  * This is used to get a storage object\n  * @returns {object} the storage\n  */\n\tfunction StorageHelper() {\n\t\t_classCallCheck(this, StorageHelper);\n\n\t\ttry {\n\t\t\tthis.storageWindow = window.localStorage;\n\t\t\tthis.storageWindow.setItem('aws.cognito.test-ls', 1);\n\t\t\tthis.storageWindow.removeItem('aws.cognito.test-ls');\n\t\t} catch (exception) {\n\t\t\tthis.storageWindow = MemoryStorage;\n\t\t}\n\t}\n\n\t/**\n  * This is used to return the storage\n  * @returns {object} the storage\n  */\n\n\n\tStorageHelper.prototype.getStorage = function getStorage() {\n\t\treturn this.storageWindow;\n\t};\n\n\treturn StorageHelper;\n}();\n\nexport default StorageHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\n\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\n/** @class */\n\nvar CognitoUser = function () {\n\t/**\n  * Constructs a new CognitoUser object\n  * @param {object} data Creation options\n  * @param {string} data.Username The user's username.\n  * @param {CognitoUserPool} data.Pool Pool containing the user.\n  * @param {object} data.Storage Optional storage object.\n  */\n\tfunction CognitoUser(data) {\n\t\t_classCallCheck(this, CognitoUser);\n\n\t\tif (data == null || data.Username == null || data.Pool == null) {\n\t\t\tthrow new Error('Username and pool information are required.');\n\t\t}\n\n\t\tthis.username = data.Username || '';\n\t\tthis.pool = data.Pool;\n\t\tthis.Session = null;\n\n\t\tthis.client = data.Pool.client;\n\n\t\tthis.signInUserSession = null;\n\t\tthis.authenticationFlowType = 'USER_SRP_AUTH';\n\n\t\tthis.storage = data.Storage || new StorageHelper().getStorage();\n\n\t\tthis.keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n\t\tthis.userDataKey = this.keyPrefix + '.' + this.username + '.userData';\n\t}\n\n\t/**\n  * Sets the session for this user\n  * @param {CognitoUserSession} signInUserSession the session\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n\t\tthis.clearCachedUserData();\n\t\tthis.signInUserSession = signInUserSession;\n\t\tthis.cacheTokens();\n\t};\n\n\t/**\n  * @returns {CognitoUserSession} the current session for this user\n  */\n\n\n\tCognitoUser.prototype.getSignInUserSession = function getSignInUserSession() {\n\t\treturn this.signInUserSession;\n\t};\n\n\t/**\n  * @returns {string} the user's username\n  */\n\n\n\tCognitoUser.prototype.getUsername = function getUsername() {\n\t\treturn this.username;\n\t};\n\n\t/**\n  * @returns {String} the authentication flow type\n  */\n\n\n\tCognitoUser.prototype.getAuthenticationFlowType = function getAuthenticationFlowType() {\n\t\treturn this.authenticationFlowType;\n\t};\n\n\t/**\n  * sets authentication flow type\n  * @param {string} authenticationFlowType New value.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n\t\tthis.authenticationFlowType = authenticationFlowType;\n\t};\n\n\t/**\n  * This is used for authenticating the user through the custom authentication flow.\n  * @param {AuthenticationDetails} authDetails Contains the authentication data\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {customChallenge} callback.customChallenge Custom challenge\n  *        response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.initiateAuth = function initiateAuth(authDetails, callback) {\n\t\tvar _this = this;\n\n\t\tvar authParameters = authDetails.getAuthParameters();\n\t\tauthParameters.USERNAME = this.username;\n\n\t\tvar clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n\n\t\tvar jsonReq = {\n\t\t\tAuthFlow: 'CUSTOM_AUTH',\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tAuthParameters: authParameters,\n\t\t\tClientMetadata: clientMetaData\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\n\t\tthis.client.request('InitiateAuth', jsonReq, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\tvar challengeName = data.ChallengeName;\n\t\t\tvar challengeParameters = data.ChallengeParameters;\n\n\t\t\tif (challengeName === 'CUSTOM_CHALLENGE') {\n\t\t\t\t_this.Session = data.Session;\n\t\t\t\treturn callback.customChallenge(challengeParameters);\n\t\t\t}\n\t\t\t_this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n\t\t\t_this.cacheTokens();\n\t\t\treturn callback.onSuccess(_this.signInUserSession);\n\t\t});\n\t};\n\n\t/**\n  * This is used for authenticating the user.\n  * stuff\n  * @param {AuthenticationDetails} authDetails Contains the authentication data\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {newPasswordRequired} callback.newPasswordRequired new\n  *        password and any required attributes are required to continue\n  * @param {mfaRequired} callback.mfaRequired MFA code\n  *        required to continue.\n  * @param {customChallenge} callback.customChallenge Custom challenge\n  *        response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.authenticateUser = function authenticateUser(authDetails, callback) {\n\t\tif (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n\t\t\treturn this.authenticateUserPlainUsernamePassword(authDetails, callback);\n\t\t} else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n\t\t\treturn this.authenticateUserDefaultAuth(authDetails, callback);\n\t\t}\n\t\treturn callback.onFailure(new Error('Authentication flow type is invalid.'));\n\t};\n\n\t/**\n  * PRIVATE ONLY: This is an internal only method and should not\n  * be directly called by the consumers.\n  * It calls the AuthenticationHelper for SRP related\n  * stuff\n  * @param {AuthenticationDetails} authDetails Contains the authentication data\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {newPasswordRequired} callback.newPasswordRequired new\n  *        password and any required attributes are required to continue\n  * @param {mfaRequired} callback.mfaRequired MFA code\n  *        required to continue.\n  * @param {customChallenge} callback.customChallenge Custom challenge\n  *        response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n\t\tvar _this2 = this;\n\n\t\tvar authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n\t\tvar dateHelper = new DateHelper();\n\n\t\tvar serverBValue = void 0;\n\t\tvar salt = void 0;\n\t\tvar authParameters = {};\n\n\t\tif (this.deviceKey != null) {\n\t\t\tauthParameters.DEVICE_KEY = this.deviceKey;\n\t\t}\n\n\t\tauthParameters.USERNAME = this.username;\n\t\tauthenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n\t\t\t// getLargeAValue callback start\n\t\t\tif (errOnAValue) {\n\t\t\t\tcallback.onFailure(errOnAValue);\n\t\t\t}\n\n\t\t\tauthParameters.SRP_A = aValue.toString(16);\n\n\t\t\tif (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n\t\t\t\tauthParameters.CHALLENGE_NAME = 'SRP_A';\n\t\t\t}\n\n\t\t\tvar clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n\n\t\t\tvar jsonReq = {\n\t\t\t\tAuthFlow: _this2.authenticationFlowType,\n\t\t\t\tClientId: _this2.pool.getClientId(),\n\t\t\t\tAuthParameters: authParameters,\n\t\t\t\tClientMetadata: clientMetaData\n\t\t\t};\n\t\t\tif (_this2.getUserContextData(_this2.username)) {\n\t\t\t\tjsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n\t\t\t}\n\n\t\t\t_this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback.onFailure(err);\n\t\t\t\t}\n\n\t\t\t\tvar challengeParameters = data.ChallengeParameters;\n\n\t\t\t\t_this2.username = challengeParameters.USER_ID_FOR_SRP;\n\t\t\t\tserverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n\t\t\t\tsalt = new BigInteger(challengeParameters.SALT, 16);\n\t\t\t\t_this2.getCachedDeviceKeyAndPassword();\n\n\t\t\t\tauthenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n\t\t\t\t\t// getPasswordAuthenticationKey callback start\n\t\t\t\t\tif (errOnHkdf) {\n\t\t\t\t\t\tcallback.onFailure(errOnHkdf);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar dateNow = dateHelper.getNowString();\n\n\t\t\t\t\tvar message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n\t\t\t\t\tvar key = CryptoJS.lib.WordArray.create(hkdf);\n\t\t\t\t\tvar signatureString = Base64.stringify(HmacSHA256(message, key));\n\n\t\t\t\t\tvar challengeResponses = {};\n\n\t\t\t\t\tchallengeResponses.USERNAME = _this2.username;\n\t\t\t\t\tchallengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n\t\t\t\t\tchallengeResponses.TIMESTAMP = dateNow;\n\t\t\t\t\tchallengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n\t\t\t\t\tif (_this2.deviceKey != null) {\n\t\t\t\t\t\tchallengeResponses.DEVICE_KEY = _this2.deviceKey;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n\t\t\t\t\t\treturn _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n\t\t\t\t\t\t\tif (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n\t\t\t\t\t\t\t\tchallengeResponses.DEVICE_KEY = null;\n\t\t\t\t\t\t\t\t_this2.deviceKey = null;\n\t\t\t\t\t\t\t\t_this2.randomPassword = null;\n\t\t\t\t\t\t\t\t_this2.deviceGroupKey = null;\n\t\t\t\t\t\t\t\t_this2.clearCachedDeviceKeyAndPassword();\n\t\t\t\t\t\t\t\treturn respondToAuthChallenge(challenge, challengeCallback);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn challengeCallback(errChallenge, dataChallenge);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tvar jsonReqResp = {\n\t\t\t\t\t\tChallengeName: 'PASSWORD_VERIFIER',\n\t\t\t\t\t\tClientId: _this2.pool.getClientId(),\n\t\t\t\t\t\tChallengeResponses: challengeResponses,\n\t\t\t\t\t\tSession: data.Session,\n\t\t\t\t\t\tClientMetadata: clientMetaData\n\t\t\t\t\t};\n\t\t\t\t\tif (_this2.getUserContextData()) {\n\t\t\t\t\t\tjsonReqResp.UserContextData = _this2.getUserContextData();\n\t\t\t\t\t}\n\t\t\t\t\trespondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n\t\t\t\t\t\tif (errAuthenticate) {\n\t\t\t\t\t\t\treturn callback.onFailure(errAuthenticate);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n\t\t\t\t\t});\n\t\t\t\t\treturn undefined;\n\t\t\t\t\t// getPasswordAuthenticationKey callback end\n\t\t\t\t});\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\t// getLargeAValue callback end\n\t\t});\n\t};\n\n\t/**\n  * PRIVATE ONLY: This is an internal only method and should not\n  * be directly called by the consumers.\n  * @param {AuthenticationDetails} authDetails Contains the authentication data.\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {mfaRequired} callback.mfaRequired MFA code\n  *        required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n\t\tvar _this3 = this;\n\n\t\tvar authParameters = {};\n\t\tauthParameters.USERNAME = this.username;\n\t\tauthParameters.PASSWORD = authDetails.getPassword();\n\t\tif (!authParameters.PASSWORD) {\n\t\t\tcallback.onFailure(new Error('PASSWORD parameter is required'));\n\t\t\treturn;\n\t\t}\n\t\tvar authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n\t\tthis.getCachedDeviceKeyAndPassword();\n\t\tif (this.deviceKey != null) {\n\t\t\tauthParameters.DEVICE_KEY = this.deviceKey;\n\t\t}\n\n\t\tvar clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n\n\t\tvar jsonReq = {\n\t\t\tAuthFlow: 'USER_PASSWORD_AUTH',\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tAuthParameters: authParameters,\n\t\t\tClientMetadata: clientMetaData\n\t\t};\n\t\tif (this.getUserContextData(this.username)) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData(this.username);\n\t\t}\n\t\t// USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n\t\t// Cognito UserPools verifies password and returns tokens.\n\t\tthis.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n\t\t});\n\t};\n\n\t/**\n  * PRIVATE ONLY: This is an internal only method and should not\n  * be directly called by the consumers.\n  * @param {object} dataAuthenticate authentication data\n  * @param {object} authenticationHelper helper created\n  * @param {callback} callback passed on from caller\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n\t\tvar _this4 = this;\n\n\t\tvar challengeName = dataAuthenticate.ChallengeName;\n\t\tvar challengeParameters = dataAuthenticate.ChallengeParameters;\n\n\t\tif (challengeName === 'SMS_MFA') {\n\t\t\tthis.Session = dataAuthenticate.Session;\n\t\t\treturn callback.mfaRequired(challengeName, challengeParameters);\n\t\t}\n\n\t\tif (challengeName === 'SELECT_MFA_TYPE') {\n\t\t\tthis.Session = dataAuthenticate.Session;\n\t\t\treturn callback.selectMFAType(challengeName, challengeParameters);\n\t\t}\n\n\t\tif (challengeName === 'MFA_SETUP') {\n\t\t\tthis.Session = dataAuthenticate.Session;\n\t\t\treturn callback.mfaSetup(challengeName, challengeParameters);\n\t\t}\n\n\t\tif (challengeName === 'SOFTWARE_TOKEN_MFA') {\n\t\t\tthis.Session = dataAuthenticate.Session;\n\t\t\treturn callback.totpRequired(challengeName, challengeParameters);\n\t\t}\n\n\t\tif (challengeName === 'CUSTOM_CHALLENGE') {\n\t\t\tthis.Session = dataAuthenticate.Session;\n\t\t\treturn callback.customChallenge(challengeParameters);\n\t\t}\n\n\t\tif (challengeName === 'NEW_PASSWORD_REQUIRED') {\n\t\t\tthis.Session = dataAuthenticate.Session;\n\n\t\t\tvar userAttributes = null;\n\t\t\tvar rawRequiredAttributes = null;\n\t\t\tvar requiredAttributes = [];\n\t\t\tvar userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n\t\t\tif (challengeParameters) {\n\t\t\t\tuserAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n\t\t\t\trawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n\t\t\t}\n\n\t\t\tif (rawRequiredAttributes) {\n\t\t\t\tfor (var i = 0; i < rawRequiredAttributes.length; i++) {\n\t\t\t\t\trequiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn callback.newPasswordRequired(userAttributes, requiredAttributes);\n\t\t}\n\n\t\tif (challengeName === 'DEVICE_SRP_AUTH') {\n\t\t\tthis.getDeviceResponse(callback);\n\t\t\treturn undefined;\n\t\t}\n\n\t\tthis.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\t\tthis.challengeName = challengeName;\n\t\tthis.cacheTokens();\n\n\t\tvar newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n\t\tif (newDeviceMetadata == null) {\n\t\t\treturn callback.onSuccess(this.signInUserSession);\n\t\t}\n\n\t\tauthenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n\t\t\tif (errGenHash) {\n\t\t\t\treturn callback.onFailure(errGenHash);\n\t\t\t}\n\n\t\t\tvar deviceSecretVerifierConfig = {\n\t\t\t\tSalt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n\t\t\t\tPasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n\t\t\t};\n\n\t\t\t_this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n\t\t\t_this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n\t\t\t_this4.randomPassword = authenticationHelper.getRandomPassword();\n\n\t\t\t_this4.client.request('ConfirmDevice', {\n\t\t\t\tDeviceKey: newDeviceMetadata.DeviceKey,\n\t\t\t\tAccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\t\tDeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n\t\t\t\tDeviceName: navigator.userAgent\n\t\t\t}, function (errConfirm, dataConfirm) {\n\t\t\t\tif (errConfirm) {\n\t\t\t\t\treturn callback.onFailure(errConfirm);\n\t\t\t\t}\n\n\t\t\t\t_this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\t\t\t\t_this4.cacheDeviceKeyAndPassword();\n\t\t\t\tif (dataConfirm.UserConfirmationNecessary === true) {\n\t\t\t\t\treturn callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n\t\t\t\t}\n\t\t\t\treturn callback.onSuccess(_this4.signInUserSession);\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n  * Pass the new password with any new user attributes to be updated.\n  * User attribute keys must be of format userAttributes.<attribute_name>.\n  * @param {string} newPassword new password for this user\n  * @param {object} requiredAttributeData map with values for all required attributes\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n  * @param {customChallenge} callback.customChallenge Custom challenge\n  *         response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n\t\tvar _this5 = this;\n\n\t\tif (!newPassword) {\n\t\t\treturn callback.onFailure(new Error('New password is required.'));\n\t\t}\n\t\tvar authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n\t\tvar userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n\t\tvar finalUserAttributes = {};\n\t\tif (requiredAttributeData) {\n\t\t\tObject.keys(requiredAttributeData).forEach(function (key) {\n\t\t\t\tfinalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n\t\t\t});\n\t\t}\n\n\t\tfinalUserAttributes.NEW_PASSWORD = newPassword;\n\t\tfinalUserAttributes.USERNAME = this.username;\n\t\tvar jsonReq = {\n\t\t\tChallengeName: 'NEW_PASSWORD_REQUIRED',\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tChallengeResponses: finalUserAttributes,\n\t\t\tSession: this.Session,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\n\t\tthis.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n\t\t\tif (errAuthenticate) {\n\t\t\t\treturn callback.onFailure(errAuthenticate);\n\t\t\t}\n\t\t\treturn _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to get a session using device authentication. It is called at the end of user\n  * authentication\n  *\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  * @private\n  */\n\n\n\tCognitoUser.prototype.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n\t\tvar _this6 = this;\n\n\t\tvar authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n\t\tvar dateHelper = new DateHelper();\n\n\t\tvar authParameters = {};\n\n\t\tauthParameters.USERNAME = this.username;\n\t\tauthParameters.DEVICE_KEY = this.deviceKey;\n\t\tauthenticationHelper.getLargeAValue(function (errAValue, aValue) {\n\t\t\t// getLargeAValue callback start\n\t\t\tif (errAValue) {\n\t\t\t\tcallback.onFailure(errAValue);\n\t\t\t}\n\n\t\t\tauthParameters.SRP_A = aValue.toString(16);\n\n\t\t\tvar jsonReq = {\n\t\t\t\tChallengeName: 'DEVICE_SRP_AUTH',\n\t\t\t\tClientId: _this6.pool.getClientId(),\n\t\t\t\tChallengeResponses: authParameters,\n\t\t\t\tClientMetadata: clientMetadata\n\t\t\t};\n\t\t\tif (_this6.getUserContextData()) {\n\t\t\t\tjsonReq.UserContextData = _this6.getUserContextData();\n\t\t\t}\n\t\t\t_this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback.onFailure(err);\n\t\t\t\t}\n\n\t\t\t\tvar challengeParameters = data.ChallengeParameters;\n\n\t\t\t\tvar serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n\t\t\t\tvar salt = new BigInteger(challengeParameters.SALT, 16);\n\n\t\t\t\tauthenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n\t\t\t\t\t// getPasswordAuthenticationKey callback start\n\t\t\t\t\tif (errHkdf) {\n\t\t\t\t\t\treturn callback.onFailure(errHkdf);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar dateNow = dateHelper.getNowString();\n\n\t\t\t\t\tvar message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n\t\t\t\t\tvar key = CryptoJS.lib.WordArray.create(hkdf);\n\t\t\t\t\tvar signatureString = Base64.stringify(HmacSHA256(message, key));\n\n\t\t\t\t\tvar challengeResponses = {};\n\n\t\t\t\t\tchallengeResponses.USERNAME = _this6.username;\n\t\t\t\t\tchallengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n\t\t\t\t\tchallengeResponses.TIMESTAMP = dateNow;\n\t\t\t\t\tchallengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\t\t\t\t\tchallengeResponses.DEVICE_KEY = _this6.deviceKey;\n\n\t\t\t\t\tvar jsonReqResp = {\n\t\t\t\t\t\tChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n\t\t\t\t\t\tClientId: _this6.pool.getClientId(),\n\t\t\t\t\t\tChallengeResponses: challengeResponses,\n\t\t\t\t\t\tSession: data.Session\n\t\t\t\t\t};\n\t\t\t\t\tif (_this6.getUserContextData()) {\n\t\t\t\t\t\tjsonReqResp.UserContextData = _this6.getUserContextData();\n\t\t\t\t\t}\n\n\t\t\t\t\t_this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n\t\t\t\t\t\tif (errAuthenticate) {\n\t\t\t\t\t\t\treturn callback.onFailure(errAuthenticate);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\t\t\t\t\t\t_this6.cacheTokens();\n\n\t\t\t\t\t\treturn callback.onSuccess(_this6.signInUserSession);\n\t\t\t\t\t});\n\t\t\t\t\treturn undefined;\n\t\t\t\t\t// getPasswordAuthenticationKey callback end\n\t\t\t\t});\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\t// getLargeAValue callback end\n\t\t});\n\t};\n\n\t/**\n  * This is used for a certain user to confirm the registration by using a confirmation code\n  * @param {string} confirmationCode Code entered by user.\n  * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n\t\tvar jsonReq = {\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tConfirmationCode: confirmationCode,\n\t\t\tUsername: this.username,\n\t\t\tForceAliasCreation: forceAliasCreation,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\t\tthis.client.request('ConfirmSignUp', jsonReq, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t};\n\n\t/**\n  * This is used by the user once he has the responses to a custom challenge\n  * @param {string} answerChallenge The custom challenge answer.\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {customChallenge} callback.customChallenge\n  *    Custom challenge response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n\t\tvar _this7 = this;\n\n\t\tvar challengeResponses = {};\n\t\tchallengeResponses.USERNAME = this.username;\n\t\tchallengeResponses.ANSWER = answerChallenge;\n\n\t\tvar authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n\t\tthis.getCachedDeviceKeyAndPassword();\n\t\tif (this.deviceKey != null) {\n\t\t\tchallengeResponses.DEVICE_KEY = this.deviceKey;\n\t\t}\n\n\t\tvar jsonReq = {\n\t\t\tChallengeName: 'CUSTOM_CHALLENGE',\n\t\t\tChallengeResponses: challengeResponses,\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tSession: this.Session,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\t\tthis.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\n\t\t\treturn _this7.authenticateUserInternal(data, authenticationHelper, callback);\n\t\t});\n\t};\n\n\t/**\n  * This is used by the user once he has an MFA code\n  * @param {string} confirmationCode The MFA code entered by the user.\n  * @param {object} callback Result callback map.\n  * @param {string} mfaType The mfa we are replying to.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n\t\tvar _this8 = this;\n\n\t\tvar challengeResponses = {};\n\t\tchallengeResponses.USERNAME = this.username;\n\t\tchallengeResponses.SMS_MFA_CODE = confirmationCode;\n\t\tvar mfaTypeSelection = mfaType || 'SMS_MFA';\n\t\tif (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n\t\t\tchallengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n\t\t}\n\n\t\tif (this.deviceKey != null) {\n\t\t\tchallengeResponses.DEVICE_KEY = this.deviceKey;\n\t\t}\n\n\t\tvar jsonReq = {\n\t\t\tChallengeName: mfaTypeSelection,\n\t\t\tChallengeResponses: challengeResponses,\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tSession: this.Session,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\n\t\tthis.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\n\t\t\tvar challengeName = dataAuthenticate.ChallengeName;\n\n\t\t\tif (challengeName === 'DEVICE_SRP_AUTH') {\n\t\t\t\t_this8.getDeviceResponse(callback);\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\t_this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\t\t\t_this8.cacheTokens();\n\n\t\t\tif (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n\t\t\t\treturn callback.onSuccess(_this8.signInUserSession);\n\t\t\t}\n\n\t\t\tvar authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n\t\t\tauthenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n\t\t\t\tif (errGenHash) {\n\t\t\t\t\treturn callback.onFailure(errGenHash);\n\t\t\t\t}\n\n\t\t\t\tvar deviceSecretVerifierConfig = {\n\t\t\t\t\tSalt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n\t\t\t\t\tPasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n\t\t\t\t};\n\n\t\t\t\t_this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n\t\t\t\t_this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n\t\t\t\t_this8.randomPassword = authenticationHelper.getRandomPassword();\n\n\t\t\t\t_this8.client.request('ConfirmDevice', {\n\t\t\t\t\tDeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n\t\t\t\t\tAccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\t\t\tDeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n\t\t\t\t\tDeviceName: navigator.userAgent\n\t\t\t\t}, function (errConfirm, dataConfirm) {\n\t\t\t\t\tif (errConfirm) {\n\t\t\t\t\t\treturn callback.onFailure(errConfirm);\n\t\t\t\t\t}\n\n\t\t\t\t\t_this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\t\t\t\t\t_this8.cacheDeviceKeyAndPassword();\n\t\t\t\t\tif (dataConfirm.UserConfirmationNecessary === true) {\n\t\t\t\t\t\treturn callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n\t\t\t\t\t}\n\t\t\t\t\treturn callback.onSuccess(_this8.signInUserSession);\n\t\t\t\t});\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t};\n\n\t/**\n  * This is used by an authenticated user to change the current password\n  * @param {string} oldUserPassword The current password.\n  * @param {string} newUserPassword The requested new password.\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('ChangePassword', {\n\t\t\tPreviousPassword: oldUserPassword,\n\t\t\tProposedPassword: newUserPassword,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tClientMetadata: clientMetadata\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to enable MFA for itself\n  * @deprecated\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.enableMFA = function enableMFA(callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tvar mfaOptions = [];\n\t\tvar mfaEnabled = {\n\t\t\tDeliveryMedium: 'SMS',\n\t\t\tAttributeName: 'phone_number'\n\t\t};\n\t\tmfaOptions.push(mfaEnabled);\n\n\t\tthis.client.request('SetUserSettings', {\n\t\t\tMFAOptions: mfaOptions,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to enable MFA for itself\n  * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n  * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('SetUserMFAPreference', {\n\t\t\tSMSMfaSettings: smsMfaSettings,\n\t\t\tSoftwareTokenMfaSettings: softwareTokenMfaSettings,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to disable MFA for itself\n  * @deprecated\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.disableMFA = function disableMFA(callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tvar mfaOptions = [];\n\n\t\tthis.client.request('SetUserSettings', {\n\t\t\tMFAOptions: mfaOptions,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to delete itself\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.deleteUser = function deleteUser(callback, clientMetadata) {\n\t\tvar _this9 = this;\n\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('DeleteUser', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tClientMetadata: clientMetadata\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\t_this9.clearCachedUser();\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n  */\n\t/**\n  * This is used by an authenticated user to change a list of attributes\n  * @param {AttributeArg[]} attributes A list of the new user attributes.\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('UpdateUserAttributes', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tUserAttributes: attributes,\n\t\t\tClientMetadata: clientMetadata\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to get a list of attributes\n  * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getUserAttributes = function getUserAttributes(callback) {\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('GetUser', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err, userData) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\n\t\t\tvar attributeList = [];\n\n\t\t\tfor (var i = 0; i < userData.UserAttributes.length; i++) {\n\t\t\t\tvar attribute = {\n\t\t\t\t\tName: userData.UserAttributes[i].Name,\n\t\t\t\t\tValue: userData.UserAttributes[i].Value\n\t\t\t\t};\n\t\t\t\tvar userAttribute = new CognitoUserAttribute(attribute);\n\t\t\t\tattributeList.push(userAttribute);\n\t\t\t}\n\n\t\t\treturn callback(null, attributeList);\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to get the MFAOptions\n  * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getMFAOptions = function getMFAOptions(callback) {\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('GetUser', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err, userData) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\n\t\t\treturn callback(null, userData.MFAOptions);\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated users to get the userData\n  * @param {nodeCallback<UserData>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getUserData = function getUserData(callback, params) {\n\t\tvar _this10 = this;\n\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\tthis.clearCachedUserData();\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tvar bypassCache = params ? params.bypassCache : false;\n\n\t\tvar userData = this.storage.getItem(this.userDataKey);\n\t\t// get the cached user data\n\n\t\tif (!userData || bypassCache) {\n\t\t\tthis.client.request('GetUser', {\n\t\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t\t}, function (err, latestUserData) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback(err, null);\n\t\t\t\t}\n\t\t\t\t_this10.cacheUserData(latestUserData);\n\t\t\t\tvar refresh = _this10.signInUserSession.getRefreshToken();\n\t\t\t\tif (refresh && refresh.getToken()) {\n\t\t\t\t\t_this10.refreshSession(refresh, function (refreshError, data) {\n\t\t\t\t\t\tif (refreshError) {\n\t\t\t\t\t\t\treturn callback(refreshError, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn callback(null, latestUserData);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn callback(null, latestUserData);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\ttry {\n\t\t\t\treturn callback(null, JSON.parse(userData));\n\t\t\t} catch (err) {\n\t\t\t\tthis.clearCachedUserData();\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by an authenticated user to delete a list of attributes\n  * @param {string[]} attributeList Names of the attributes to delete.\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.deleteAttributes = function deleteAttributes(attributeList, callback) {\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\treturn callback(new Error('User is not authenticated'), null);\n\t\t}\n\n\t\tthis.client.request('DeleteUserAttributes', {\n\t\t\tUserAttributeNames: attributeList,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, 'SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used by a user to resend a confirmation code\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n\t\tvar jsonReq = {\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tUsername: this.username,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\n\t\tthis.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\treturn callback(null, result);\n\t\t});\n\t};\n\n\t/**\n  * This is used to get a session, either from the session object\n  * or from  the local storage, or by using a refresh token\n  *\n  * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getSession = function getSession(callback) {\n\t\tif (this.username == null) {\n\t\t\treturn callback(new Error('Username is null. Cannot retrieve a new session'), null);\n\t\t}\n\n\t\tif (this.signInUserSession != null && this.signInUserSession.isValid()) {\n\t\t\treturn callback(null, this.signInUserSession);\n\t\t}\n\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n\t\tvar idTokenKey = keyPrefix + '.idToken';\n\t\tvar accessTokenKey = keyPrefix + '.accessToken';\n\t\tvar refreshTokenKey = keyPrefix + '.refreshToken';\n\t\tvar clockDriftKey = keyPrefix + '.clockDrift';\n\n\t\tif (this.storage.getItem(idTokenKey)) {\n\t\t\tvar idToken = new CognitoIdToken({\n\t\t\t\tIdToken: this.storage.getItem(idTokenKey)\n\t\t\t});\n\t\t\tvar accessToken = new CognitoAccessToken({\n\t\t\t\tAccessToken: this.storage.getItem(accessTokenKey)\n\t\t\t});\n\t\t\tvar refreshToken = new CognitoRefreshToken({\n\t\t\t\tRefreshToken: this.storage.getItem(refreshTokenKey)\n\t\t\t});\n\t\t\tvar clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n\n\t\t\tvar sessionData = {\n\t\t\t\tIdToken: idToken,\n\t\t\t\tAccessToken: accessToken,\n\t\t\t\tRefreshToken: refreshToken,\n\t\t\t\tClockDrift: clockDrift\n\t\t\t};\n\t\t\tvar cachedSession = new CognitoUserSession(sessionData);\n\t\t\tif (cachedSession.isValid()) {\n\t\t\t\tthis.signInUserSession = cachedSession;\n\t\t\t\treturn callback(null, this.signInUserSession);\n\t\t\t}\n\n\t\t\tif (!refreshToken.getToken()) {\n\t\t\t\treturn callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n\t\t\t}\n\n\t\t\tthis.refreshSession(refreshToken, callback);\n\t\t} else {\n\t\t\tcallback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This uses the refreshToken to retrieve a new session\n  * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n  * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n\t\tvar _this11 = this;\n\n\t\tvar authParameters = {};\n\t\tauthParameters.REFRESH_TOKEN = refreshToken.getToken();\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n\t\tvar lastUserKey = keyPrefix + '.LastAuthUser';\n\n\t\tif (this.storage.getItem(lastUserKey)) {\n\t\t\tthis.username = this.storage.getItem(lastUserKey);\n\t\t\tvar deviceKeyKey = keyPrefix + '.' + this.username + '.deviceKey';\n\t\t\tthis.deviceKey = this.storage.getItem(deviceKeyKey);\n\t\t\tauthParameters.DEVICE_KEY = this.deviceKey;\n\t\t}\n\n\t\tvar jsonReq = {\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tAuthFlow: 'REFRESH_TOKEN_AUTH',\n\t\t\tAuthParameters: authParameters,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\t\tthis.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n\t\t\tif (err) {\n\t\t\t\tif (err.code === 'NotAuthorizedException') {\n\t\t\t\t\t_this11.clearCachedUser();\n\t\t\t\t}\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\t\t\tif (authResult) {\n\t\t\t\tvar authenticationResult = authResult.AuthenticationResult;\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n\t\t\t\t\tauthenticationResult.RefreshToken = refreshToken.getToken();\n\t\t\t\t}\n\t\t\t\t_this11.signInUserSession = _this11.getCognitoUserSession(authenticationResult);\n\t\t\t\t_this11.cacheTokens();\n\t\t\t\treturn callback(null, _this11.signInUserSession);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\t};\n\n\t/**\n  * This is used to save the session tokens to local storage\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.cacheTokens = function cacheTokens() {\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n\t\tvar idTokenKey = keyPrefix + '.' + this.username + '.idToken';\n\t\tvar accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';\n\t\tvar refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';\n\t\tvar clockDriftKey = keyPrefix + '.' + this.username + '.clockDrift';\n\t\tvar lastUserKey = keyPrefix + '.LastAuthUser';\n\n\t\tthis.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n\t\tthis.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n\t\tthis.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n\t\tthis.storage.setItem(clockDriftKey, '' + this.signInUserSession.getClockDrift());\n\t\tthis.storage.setItem(lastUserKey, this.username);\n\t};\n\n\t/**\n  * This is to cache user data\n  */\n\n\n\tCognitoUser.prototype.cacheUserData = function cacheUserData(userData) {\n\t\tthis.storage.setItem(this.userDataKey, JSON.stringify(userData));\n\t};\n\n\t/**\n  * This is to remove cached user data\n  */\n\n\n\tCognitoUser.prototype.clearCachedUserData = function clearCachedUserData() {\n\t\tthis.storage.removeItem(this.userDataKey);\n\t};\n\n\tCognitoUser.prototype.clearCachedUser = function clearCachedUser() {\n\t\tthis.clearCachedTokens();\n\t\tthis.clearCachedUserData();\n\t};\n\n\t/**\n  * This is used to cache the device key and device group and device password\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n\t\tvar deviceKeyKey = keyPrefix + '.deviceKey';\n\t\tvar randomPasswordKey = keyPrefix + '.randomPasswordKey';\n\t\tvar deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n\t\tthis.storage.setItem(deviceKeyKey, this.deviceKey);\n\t\tthis.storage.setItem(randomPasswordKey, this.randomPassword);\n\t\tthis.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n\t};\n\n\t/**\n  * This is used to get current device key and device group and device password\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n\t\tvar deviceKeyKey = keyPrefix + '.deviceKey';\n\t\tvar randomPasswordKey = keyPrefix + '.randomPasswordKey';\n\t\tvar deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n\t\tif (this.storage.getItem(deviceKeyKey)) {\n\t\t\tthis.deviceKey = this.storage.getItem(deviceKeyKey);\n\t\t\tthis.randomPassword = this.storage.getItem(randomPasswordKey);\n\t\t\tthis.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n\t\t}\n\t};\n\n\t/**\n  * This is used to clear the device key info from local storage\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n\t\tvar deviceKeyKey = keyPrefix + '.deviceKey';\n\t\tvar randomPasswordKey = keyPrefix + '.randomPasswordKey';\n\t\tvar deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n\t\tthis.storage.removeItem(deviceKeyKey);\n\t\tthis.storage.removeItem(randomPasswordKey);\n\t\tthis.storage.removeItem(deviceGroupKeyKey);\n\t};\n\n\t/**\n  * This is used to clear the session tokens from local storage\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.clearCachedTokens = function clearCachedTokens() {\n\t\tvar keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n\t\tvar idTokenKey = keyPrefix + '.' + this.username + '.idToken';\n\t\tvar accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';\n\t\tvar refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';\n\t\tvar lastUserKey = keyPrefix + '.LastAuthUser';\n\t\tvar clockDriftKey = keyPrefix + '.' + this.username + '.clockDrift';\n\n\t\tthis.storage.removeItem(idTokenKey);\n\t\tthis.storage.removeItem(accessTokenKey);\n\t\tthis.storage.removeItem(refreshTokenKey);\n\t\tthis.storage.removeItem(lastUserKey);\n\t\tthis.storage.removeItem(clockDriftKey);\n\t};\n\n\t/**\n  * This is used to build a user session from tokens retrieved in the authentication result\n  * @param {object} authResult Successful auth response from server.\n  * @returns {CognitoUserSession} The new user session.\n  * @private\n  */\n\n\n\tCognitoUser.prototype.getCognitoUserSession = function getCognitoUserSession(authResult) {\n\t\tvar idToken = new CognitoIdToken(authResult);\n\t\tvar accessToken = new CognitoAccessToken(authResult);\n\t\tvar refreshToken = new CognitoRefreshToken(authResult);\n\n\t\tvar sessionData = {\n\t\t\tIdToken: idToken,\n\t\t\tAccessToken: accessToken,\n\t\t\tRefreshToken: refreshToken\n\t\t};\n\n\t\treturn new CognitoUserSession(sessionData);\n\t};\n\n\t/**\n  * This is used to initiate a forgot password request\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {inputVerificationCode?} callback.inputVerificationCode\n  *    Optional callback raised instead of onSuccess with response data.\n  * @param {onSuccess} callback.onSuccess Called on success.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.forgotPassword = function forgotPassword(callback, clientMetadata) {\n\t\tvar jsonReq = {\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tUsername: this.username,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\t\tthis.client.request('ForgotPassword', jsonReq, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\tif (typeof callback.inputVerificationCode === 'function') {\n\t\t\t\treturn callback.inputVerificationCode(data);\n\t\t\t}\n\t\t\treturn callback.onSuccess(data);\n\t\t});\n\t};\n\n\t/**\n  * This is used to confirm a new password using a confirmationCode\n  * @param {string} confirmationCode Code entered by user.\n  * @param {string} newPassword Confirm new password.\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<void>} callback.onSuccess Called on success.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n\t\tvar jsonReq = {\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tUsername: this.username,\n\t\t\tConfirmationCode: confirmationCode,\n\t\t\tPassword: newPassword,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\t\tthis.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess();\n\t\t});\n\t};\n\n\t/**\n  * This is used to initiate an attribute confirmation request\n  * @param {string} attributeName User attribute that needs confirmation.\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n  * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('GetUserAttributeVerificationCode', {\n\t\t\tAttributeName: attributeName,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tClientMetadata: clientMetadata\n\t\t}, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\tif (typeof callback.inputVerificationCode === 'function') {\n\t\t\t\treturn callback.inputVerificationCode(data);\n\t\t\t}\n\t\t\treturn callback.onSuccess();\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to confirm an attribute using a confirmation code\n  * @param {string} attributeName Attribute being confirmed.\n  * @param {string} confirmationCode Code entered by user.\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<string>} callback.onSuccess Called on success.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('VerifyUserAttribute', {\n\t\t\tAttributeName: attributeName,\n\t\t\tCode: confirmationCode,\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess('SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to get the device information using the current device key\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getDevice = function getDevice(callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('GetDevice', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tDeviceKey: this.deviceKey\n\t\t}, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess(data);\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to forget a specific device\n  * @param {string} deviceKey Device key.\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<string>} callback.onSuccess Called on success.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('ForgetDevice', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tDeviceKey: deviceKey\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess('SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to forget the current device\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<string>} callback.onSuccess Called on success.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.forgetDevice = function forgetDevice(callback) {\n\t\tvar _this12 = this;\n\n\t\tthis.forgetSpecificDevice(this.deviceKey, {\n\t\t\tonFailure: callback.onFailure,\n\t\t\tonSuccess: function onSuccess(result) {\n\t\t\t\t_this12.deviceKey = null;\n\t\t\t\t_this12.deviceGroupKey = null;\n\t\t\t\t_this12.randomPassword = null;\n\t\t\t\t_this12.clearCachedDeviceKeyAndPassword();\n\t\t\t\treturn callback.onSuccess(result);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n  * This is used to set the device status as remembered\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<string>} callback.onSuccess Called on success.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('UpdateDeviceStatus', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tDeviceKey: this.deviceKey,\n\t\t\tDeviceRememberedStatus: 'remembered'\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess('SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to set the device status as not remembered\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<string>} callback.onSuccess Called on success.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('UpdateDeviceStatus', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tDeviceKey: this.deviceKey,\n\t\t\tDeviceRememberedStatus: 'not_remembered'\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess('SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to list all devices for a user\n  *\n  * @param {int} limit the number of devices returned in a call\n  * @param {string} paginationToken the pagination token in case any was returned before\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.listDevices = function listDevices(limit, paginationToken, callback) {\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('ListDevices', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\tLimit: limit,\n\t\t\tPaginationToken: paginationToken\n\t\t}, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\treturn callback.onSuccess(data);\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used to globally revoke all tokens issued to a user\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {onSuccess<string>} callback.onSuccess Called on success.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.globalSignOut = function globalSignOut(callback) {\n\t\tvar _this13 = this;\n\n\t\tif (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n\t\t\treturn callback.onFailure(new Error('User is not authenticated'));\n\t\t}\n\n\t\tthis.client.request('GlobalSignOut', {\n\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\t_this13.clearCachedUser();\n\t\t\treturn callback.onSuccess('SUCCESS');\n\t\t});\n\t\treturn undefined;\n\t};\n\n\t/**\n  * This is used for the user to signOut of the application and clear the cached tokens.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.signOut = function signOut() {\n\t\tthis.signInUserSession = null;\n\t\tthis.clearCachedUser();\n\t};\n\n\t/**\n  * This is used by a user trying to select a given MFA\n  * @param {string} answerChallenge the mfa the user wants\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n\t\tvar _this14 = this;\n\n\t\tvar challengeResponses = {};\n\t\tchallengeResponses.USERNAME = this.username;\n\t\tchallengeResponses.ANSWER = answerChallenge;\n\n\t\tvar jsonReq = {\n\t\t\tChallengeName: 'SELECT_MFA_TYPE',\n\t\t\tChallengeResponses: challengeResponses,\n\t\t\tClientId: this.pool.getClientId(),\n\t\t\tSession: this.Session\n\t\t};\n\t\tif (this.getUserContextData()) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData();\n\t\t}\n\t\tthis.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback.onFailure(err);\n\t\t\t}\n\t\t\t_this14.Session = data.Session;\n\t\t\tif (answerChallenge === 'SMS_MFA') {\n\t\t\t\treturn callback.mfaRequired(data.challengeName, data.challengeParameters);\n\t\t\t}\n\t\t\tif (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n\t\t\t\treturn callback.totpRequired(data.challengeName, data.challengeParameters);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\t};\n\n\t/**\n  * This returns the user context data for advanced security feature.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.getUserContextData = function getUserContextData() {\n\t\tvar pool = this.pool;\n\t\treturn pool.getUserContextData(this.username);\n\t};\n\n\t/**\n  * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.associateSoftwareToken = function associateSoftwareToken(callback) {\n\t\tvar _this15 = this;\n\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\tthis.client.request('AssociateSoftwareToken', {\n\t\t\t\tSession: this.Session\n\t\t\t}, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback.onFailure(err);\n\t\t\t\t}\n\t\t\t\t_this15.Session = data.Session;\n\t\t\t\treturn callback.associateSecretCode(data.SecretCode);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.client.request('AssociateSoftwareToken', {\n\t\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n\t\t\t}, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback.onFailure(err);\n\t\t\t\t}\n\t\t\t\treturn callback.associateSecretCode(data.SecretCode);\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n  * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n  * @param {string} totpCode The MFA code entered by the user.\n  * @param {string} friendlyDeviceName The device name we are assigning to the device.\n  * @param {nodeCallback<string>} callback Called on success or error.\n  * @returns {void}\n  */\n\n\n\tCognitoUser.prototype.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n\t\tvar _this16 = this;\n\n\t\tif (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n\t\t\tthis.client.request('VerifySoftwareToken', {\n\t\t\t\tSession: this.Session,\n\t\t\t\tUserCode: totpCode,\n\t\t\t\tFriendlyDeviceName: friendlyDeviceName\n\t\t\t}, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback.onFailure(err);\n\t\t\t\t}\n\t\t\t\t_this16.Session = data.Session;\n\t\t\t\tvar challengeResponses = {};\n\t\t\t\tchallengeResponses.USERNAME = _this16.username;\n\t\t\t\tvar jsonReq = {\n\t\t\t\t\tChallengeName: 'MFA_SETUP',\n\t\t\t\t\tClientId: _this16.pool.getClientId(),\n\t\t\t\t\tChallengeResponses: challengeResponses,\n\t\t\t\t\tSession: _this16.Session\n\t\t\t\t};\n\t\t\t\tif (_this16.getUserContextData()) {\n\t\t\t\t\tjsonReq.UserContextData = _this16.getUserContextData();\n\t\t\t\t}\n\t\t\t\t_this16.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n\t\t\t\t\tif (errRespond) {\n\t\t\t\t\t\treturn callback.onFailure(errRespond);\n\t\t\t\t\t}\n\t\t\t\t\t_this16.signInUserSession = _this16.getCognitoUserSession(dataRespond.AuthenticationResult);\n\t\t\t\t\t_this16.cacheTokens();\n\t\t\t\t\treturn callback.onSuccess(_this16.signInUserSession);\n\t\t\t\t});\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t} else {\n\t\t\tthis.client.request('VerifySoftwareToken', {\n\t\t\t\tAccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n\t\t\t\tUserCode: totpCode,\n\t\t\t\tFriendlyDeviceName: friendlyDeviceName\n\t\t\t}, function (err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback.onFailure(err);\n\t\t\t\t}\n\t\t\t\treturn callback.onSuccess(data);\n\t\t\t});\n\t\t}\n\t};\n\n\treturn CognitoUser;\n}();\n\nexport default CognitoUser;","// class for defining the amzn user-agent\nexport default UserAgent;\n// constructor\nfunction UserAgent() {}\n// public\nUserAgent.prototype.userAgent = 'aws-amplify/0.1.x js';","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport UserAgent from './UserAgent';\n/** @class */\n\nvar Client = function () {\n\t/**\n  * Constructs a new AWS Cognito Identity Provider client object\n  * @param {string} region AWS region\n  * @param {string} endpoint endpoint\n  */\n\tfunction Client(region, endpoint) {\n\t\t_classCallCheck(this, Client);\n\n\t\tthis.endpoint = endpoint || 'https://cognito-idp.' + region + '.amazonaws.com/';\n\t\tthis.userAgent = UserAgent.prototype.userAgent || 'aws-amplify/0.1.x js';\n\t}\n\n\t/**\n  * Makes an unauthenticated request on AWS Cognito Identity Provider API\n  * using fetch\n  * @param {string} operation API operation\n  * @param {object} params Input parameters\n  * @param {function} callback Callback called when a response is returned\n  * @returns {void}\n  */\n\n\n\tClient.prototype.request = function request(operation, params, callback) {\n\t\tvar headers = {\n\t\t\t'Content-Type': 'application/x-amz-json-1.1',\n\t\t\t'X-Amz-Target': 'AWSCognitoIdentityProviderService.' + operation,\n\t\t\t'X-Amz-User-Agent': this.userAgent\n\t\t};\n\n\t\tvar options = {\n\t\t\theaders: headers,\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'cors',\n\t\t\tcache: 'no-cache',\n\t\t\tbody: JSON.stringify(params)\n\t\t};\n\n\t\tvar response = void 0;\n\t\tvar responseJsonData = void 0;\n\n\t\tfetch(this.endpoint, options).then(function (resp) {\n\t\t\tresponse = resp;\n\t\t\treturn resp;\n\t\t}, function (err) {\n\t\t\t// If error happens here, the request failed\n\t\t\t// if it is TypeError throw network error\n\t\t\tif (err instanceof TypeError) {\n\t\t\t\tthrow new Error('Network error');\n\t\t\t}\n\t\t\tthrow err;\n\t\t}).then(function (resp) {\n\t\t\treturn resp.json().catch(function () {\n\t\t\t\treturn {};\n\t\t\t});\n\t\t}).then(function (data) {\n\t\t\t// return parsed body stream\n\t\t\tif (response.ok) return callback(null, data);\n\t\t\tresponseJsonData = data;\n\n\t\t\t// Taken from aws-sdk-js/lib/protocol/json.js\n\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\tvar code = (data.__type || data.code).split('#').pop();\n\t\t\tvar error = {\n\t\t\t\tcode: code,\n\t\t\t\tname: code,\n\t\t\t\tmessage: data.message || data.Message || null\n\t\t\t};\n\t\t\treturn callback(error);\n\t\t}).catch(function (err) {\n\t\t\t// first check if we have a service error\n\t\t\tif (response && response.headers && response.headers.get('x-amzn-errortype')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar code = response.headers.get('x-amzn-errortype').split(':')[0];\n\t\t\t\t\tvar error = {\n\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\tname: code,\n\t\t\t\t\t\tstatusCode: response.status,\n\t\t\t\t\t\tmessage: response.status ? response.status.toString() : null\n\t\t\t\t\t};\n\t\t\t\t\treturn callback(error);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\t// otherwise check if error is Network error\n\t\t\t} else if (err instanceof Error && err.message === 'Network error') {\n\t\t\t\tvar _error = {\n\t\t\t\t\tcode: 'NetworkError',\n\t\t\t\t\tname: err.name,\n\t\t\t\t\tmessage: err.message\n\t\t\t\t};\n\t\t\t\treturn callback(_error);\n\t\t\t} else {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t});\n\t};\n\n\treturn Client;\n}();\n\nexport default Client;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\n\n/** @class */\n\nvar CognitoUserPool = function () {\n\t/**\n  * Constructs a new CognitoUserPool object\n  * @param {object} data Creation options.\n  * @param {string} data.UserPoolId Cognito user pool id.\n  * @param {string} data.ClientId User pool application client id.\n  * @param {object} data.Storage Optional storage object.\n  * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n  *        boolean flag indicating if the data collection is enabled\n  *        to support cognito advanced security features. By default, this\n  *        flag is set to true.\n  */\n\tfunction CognitoUserPool(data) {\n\t\t_classCallCheck(this, CognitoUserPool);\n\n\t\tvar _ref = data || {},\n\t\t    UserPoolId = _ref.UserPoolId,\n\t\t    ClientId = _ref.ClientId,\n\t\t    endpoint = _ref.endpoint,\n\t\t    AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n\t\tif (!UserPoolId || !ClientId) {\n\t\t\tthrow new Error('Both UserPoolId and ClientId are required.');\n\t\t}\n\t\tif (!/^[\\w-]+_.+$/.test(UserPoolId)) {\n\t\t\tthrow new Error('Invalid UserPoolId format.');\n\t\t}\n\t\tvar region = UserPoolId.split('_')[0];\n\n\t\tthis.userPoolId = UserPoolId;\n\t\tthis.clientId = ClientId;\n\n\t\tthis.client = new Client(region, endpoint);\n\n\t\t/**\n   * By default, AdvancedSecurityDataCollectionFlag is set to true,\n   * if no input value is provided.\n   */\n\t\tthis.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n\n\t\tthis.storage = data.Storage || new StorageHelper().getStorage();\n\t}\n\n\t/**\n  * @returns {string} the user pool id\n  */\n\n\n\tCognitoUserPool.prototype.getUserPoolId = function getUserPoolId() {\n\t\treturn this.userPoolId;\n\t};\n\n\t/**\n  * @returns {string} the client id\n  */\n\n\n\tCognitoUserPool.prototype.getClientId = function getClientId() {\n\t\treturn this.clientId;\n\t};\n\n\t/**\n  * @typedef {object} SignUpResult\n  * @property {CognitoUser} user New user.\n  * @property {bool} userConfirmed If the user is already confirmed.\n  */\n\t/**\n  * method for signing up a user\n  * @param {string} username User's username.\n  * @param {string} password Plain-text initial password entered by user.\n  * @param {(AttributeArg[])=} userAttributes New user attributes.\n  * @param {(AttributeArg[])=} validationData Application metadata.\n  * @param {(AttributeArg[])=} clientMetadata Client metadata.\n  * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n  * @returns {void}\n  */\n\n\n\tCognitoUserPool.prototype.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n\t\tvar _this = this;\n\n\t\tvar jsonReq = {\n\t\t\tClientId: this.clientId,\n\t\t\tUsername: username,\n\t\t\tPassword: password,\n\t\t\tUserAttributes: userAttributes,\n\t\t\tValidationData: validationData,\n\t\t\tClientMetadata: clientMetadata\n\t\t};\n\t\tif (this.getUserContextData(username)) {\n\t\t\tjsonReq.UserContextData = this.getUserContextData(username);\n\t\t}\n\t\tthis.client.request('SignUp', jsonReq, function (err, data) {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, null);\n\t\t\t}\n\n\t\t\tvar cognitoUser = {\n\t\t\t\tUsername: username,\n\t\t\t\tPool: _this,\n\t\t\t\tStorage: _this.storage\n\t\t\t};\n\n\t\t\tvar returnData = {\n\t\t\t\tuser: new CognitoUser(cognitoUser),\n\t\t\t\tuserConfirmed: data.UserConfirmed,\n\t\t\t\tuserSub: data.UserSub,\n\t\t\t\tcodeDeliveryDetails: data.CodeDeliveryDetails\n\t\t\t};\n\n\t\t\treturn callback(null, returnData);\n\t\t});\n\t};\n\n\t/**\n  * method for getting the current user of the application from the local storage\n  *\n  * @returns {CognitoUser} the user retrieved from storage\n  */\n\n\n\tCognitoUserPool.prototype.getCurrentUser = function getCurrentUser() {\n\t\tvar lastUserKey = 'CognitoIdentityServiceProvider.' + this.clientId + '.LastAuthUser';\n\n\t\tvar lastAuthUser = this.storage.getItem(lastUserKey);\n\t\tif (lastAuthUser) {\n\t\t\tvar cognitoUser = {\n\t\t\t\tUsername: lastAuthUser,\n\t\t\t\tPool: this,\n\t\t\t\tStorage: this.storage\n\t\t\t};\n\n\t\t\treturn new CognitoUser(cognitoUser);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\t/**\n  * This method returns the encoded data string used for cognito advanced security feature.\n  * This would be generated only when developer has included the JS used for collecting the\n  * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n  * features\n  * @param {string} username the username for the context data\n  * @returns {string} the user context data\n  **/\n\n\n\tCognitoUserPool.prototype.getUserContextData = function getUserContextData(username) {\n\t\tif (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n\t\t\treturn undefined;\n\t\t}\n\t\t/* eslint-disable */\n\t\tvar amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n\t\t/* eslint-enable */\n\n\t\tif (this.advancedSecurityDataCollectionFlag) {\n\t\t\tvar advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n\t\t\tif (advancedSecurityData) {\n\t\t\t\tvar userContextData = {\n\t\t\t\t\tEncodedData: advancedSecurityData\n\t\t\t\t};\n\t\t\t\treturn userContextData;\n\t\t\t}\n\t\t}\n\t\treturn {};\n\t};\n\n\treturn CognitoUserPool;\n}();\n\nexport default CognitoUserPool;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport * as Cookies from 'js-cookie';\n\n/** @class */\n\nvar CookieStorage = function () {\n\t/**\n  * Constructs a new CookieStorage object\n  * @param {object} data Creation options.\n  * @param {string} data.domain Cookies domain (mandatory).\n  * @param {string} data.path Cookies path (default: '/')\n  * @param {integer} data.expires Cookie expiration (in days, default: 365)\n  * @param {boolean} data.secure Cookie secure flag (default: true)\n  */\n\tfunction CookieStorage(data) {\n\t\t_classCallCheck(this, CookieStorage);\n\n\t\tif (data.domain) {\n\t\t\tthis.domain = data.domain;\n\t\t} else {\n\t\t\tthrow new Error('The domain of cookieStorage can not be undefined.');\n\t\t}\n\t\tif (data.path) {\n\t\t\tthis.path = data.path;\n\t\t} else {\n\t\t\tthis.path = '/';\n\t\t}\n\t\tif (Object.prototype.hasOwnProperty.call(data, 'expires')) {\n\t\t\tthis.expires = data.expires;\n\t\t} else {\n\t\t\tthis.expires = 365;\n\t\t}\n\t\tif (Object.prototype.hasOwnProperty.call(data, 'secure')) {\n\t\t\tthis.secure = data.secure;\n\t\t} else {\n\t\t\tthis.secure = true;\n\t\t}\n\t}\n\n\t/**\n  * This is used to set a specific item in storage\n  * @param {string} key - the key for the item\n  * @param {object} value - the value\n  * @returns {string} value that was set\n  */\n\n\n\tCookieStorage.prototype.setItem = function setItem(key, value) {\n\t\tCookies.set(key, value, {\n\t\t\tpath: this.path,\n\t\t\texpires: this.expires,\n\t\t\tdomain: this.domain,\n\t\t\tsecure: this.secure\n\t\t});\n\t\treturn Cookies.get(key);\n\t};\n\n\t/**\n  * This is used to get a specific key from storage\n  * @param {string} key - the key for the item\n  * This is used to clear the storage\n  * @returns {string} the data item\n  */\n\n\n\tCookieStorage.prototype.getItem = function getItem(key) {\n\t\treturn Cookies.get(key);\n\t};\n\n\t/**\n  * This is used to remove an item from storage\n  * @param {string} key - the key being set\n  * @returns {string} value - value that was deleted\n  */\n\n\n\tCookieStorage.prototype.removeItem = function removeItem(key) {\n\t\treturn Cookies.remove(key, {\n\t\t\tpath: this.path,\n\t\t\tdomain: this.domain,\n\t\t\tsecure: this.secure\n\t\t});\n\t};\n\n\t/**\n  * This is used to clear the storage\n  * @returns {string} nothing\n  */\n\n\n\tCookieStorage.prototype.clear = function clear() {\n\t\tvar cookies = Cookies.get();\n\t\tvar index = void 0;\n\t\tfor (index = 0; index < cookies.length; ++index) {\n\t\t\tCookies.remove(cookies[index]);\n\t\t}\n\t\treturn {};\n\t};\n\n\treturn CookieStorage;\n}();\n\nexport default CookieStorage;","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment poisition.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceeding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceeding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line:no-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // tslint:disable-next-line:no-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    // tslint:disable-next-line:no-any\n    window.addEventListener('test', options, options);\n    // tslint:disable-next-line:no-any\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module shady-render\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst microtaskPromise = Promise.resolve(true);\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this._updateState = 0;\n        this._instanceProperties = undefined;\n        this._updatePromise = microtaskPromise;\n        this._hasConnectedResolver = undefined;\n        /**\n         * Map with keys for any properties that have changed since the last\n         * update cycle with previous values.\n         */\n        this._changedProperties = new Map();\n        /**\n         * Map with keys of properties that should be reflected when updated.\n         */\n        this._reflectingProperties = undefined;\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        Object.defineProperty(this.prototype, name, {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this._requestUpdate(name, oldValue);\n            },\n            configurable: true,\n            enumerable: true\n        });\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this._requestUpdate();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        this._updateState = this._updateState | STATE_HAS_CONNECTED;\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection and if one is pending connection the\n        // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n        // update, otherwise requestUpdate.\n        if (this._hasConnectedResolver) {\n            this._hasConnectedResolver();\n            this._hasConnectedResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor._classProperties.get(propName) || defaultPropertyDeclaration;\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This private version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    _requestUpdate(name, oldValue) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            const options = ctor._classProperties.get(name) || defaultPropertyDeclaration;\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this._requestUpdate(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        // Mark state updating...\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        let resolve;\n        let reject;\n        const previousUpdatePromise = this._updatePromise;\n        this._updatePromise = new Promise((res, rej) => {\n            resolve = res;\n            reject = rej;\n        });\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await previousUpdatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        // Make sure the element has connected before updating.\n        if (!this._hasConnected) {\n            await new Promise((res) => this._hasConnectedResolver = res);\n        }\n        try {\n            const result = this.performUpdate();\n            // If `performUpdate` returns a Promise, we await it. This is done to\n            // enable coordinating updates with a scheduler. Note, the result is\n            // checked to avoid delaying an additional microtask unless we need to.\n            if (result != null) {\n                await result;\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n        resolve(!this._hasRequestedUpdate);\n    }\n    get _hasConnected() {\n        return (this._updateState & STATE_HAS_CONNECTED);\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            throw e;\n        }\n        finally {\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst legacyCustomElement = (tagName, clazz) => {\n    window.customElements.define(tagName, clazz);\n    // Cast as any because TS doesn't recognize the return type as being a\n    // subtype of the decorated class when clazz is typed as\n    // `Constructor<HTMLElement>` for some reason.\n    // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n    // applied to elements however.\n    // tslint:disable-next-line:no-any\n    return clazz;\n};\nconst standardCustomElement = (tagName, descriptor) => {\n    const { kind, elements } = descriptor;\n    return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz) {\n            window.customElements.define(tagName, clazz);\n        }\n    };\n};\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n */\nexport const customElement = (tagName) => (classOrDescriptor) => (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\nconst standardProperty = (options, element) => {\n    // When decorating an accessor, pass it through and add property metadata.\n    // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n    // stomp over the user's accessor.\n    if (element.kind === 'method' && element.descriptor &&\n        !('value' in element.descriptor)) {\n        return Object.assign({}, element, { finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            } });\n    }\n    else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n            kind: 'field',\n            key: Symbol(),\n            placement: 'own',\n            descriptor: {},\n            // When @babel/plugin-proposal-decorators implements initializers,\n            // do this instead of the initializer below. See:\n            // https://github.com/babel/babel/issues/9260 extras: [\n            //   {\n            //     kind: 'initializer',\n            //     placement: 'own',\n            //     initializer: descriptor.initializer,\n            //   }\n            // ],\n            initializer() {\n                if (typeof element.initializer === 'function') {\n                    this[element.key] = element.initializer.call(this);\n                }\n            },\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            }\n        };\n    }\n};\nconst legacyProperty = (options, proto, name) => {\n    proto.constructor\n        .createProperty(name, options);\n};\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n *\n * @ExportDecoratedItems\n */\nexport function property(options) {\n    // tslint:disable-next-line:no-any decorator\n    return (protoOrDescriptor, name) => (name !== undefined) ?\n        legacyProperty(options, protoOrDescriptor, name) :\n        standardProperty(options, protoOrDescriptor);\n}\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function query(selector) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                return this.renderRoot.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function queryAll(selector) {\n    return (protoOrDescriptor, \n    // tslint:disable-next-line:no-any decorator\n    name) => {\n        const descriptor = {\n            get() {\n                return this.renderRoot.querySelectorAll(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        };\n        return (name !== undefined) ?\n            legacyQuery(descriptor, protoOrDescriptor, name) :\n            standardQuery(descriptor, protoOrDescriptor);\n    };\n}\nconst legacyQuery = (descriptor, proto, name) => {\n    Object.defineProperty(proto, name, descriptor);\n};\nconst standardQuery = (descriptor, element) => ({\n    kind: 'method',\n    placement: 'prototype',\n    key: element.key,\n    descriptor,\n});\nconst standardEventOptions = (options, element) => {\n    return Object.assign({}, element, { finisher(clazz) {\n            Object.assign(clazz.prototype[element.key], options);\n        } });\n};\nconst legacyEventOptions = \n// tslint:disable-next-line:no-any legacy decorator\n(options, proto, name) => {\n    Object.assign(proto[name], options);\n};\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifis event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n *\n *     class MyElement {\n *\n *       clicked = false;\n *\n *       render() {\n *         return html`<div @click=${this._onClick}`><button></button></div>`;\n *       }\n *\n *       @eventOptions({capture: true})\n *       _onClick(e) {\n *         this.clicked = true;\n *       }\n *     }\n */\nexport const eventOptions = (options) => \n// Return value typed as any to prevent TypeScript from complaining that\n// standard decorator function signature does not match TypeScript decorator\n// signature\n// TODO(kschaaf): unclear why it was only failing on this decorator and not\n// the others\n((protoOrDescriptor, name) => (name !== undefined) ?\n    legacyEventOptions(options, protoOrDescriptor, name) :\n    standardEventOptions(options, protoOrDescriptor));\n//# sourceMappingURL=decorators.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nexport const supportsAdoptingStyleSheets = ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n            // is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { TemplateResult } from 'lit-html';\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.1');\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(styles, result = []) {\n    for (let i = 0, length = styles.length; i < length; i++) {\n        const value = styles[i];\n        if (Array.isArray(value)) {\n            arrayFlat(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles) => styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\nexport class LitElement extends UpdatingElement {\n    /** @nocollapse */\n    static finalize() {\n        // The Closure JS Compiler does not always preserve the correct \"this\"\n        // when calling static super methods (b/137460243), so explicitly bind.\n        super.finalize.call(this);\n        // Prepare styling that is stamped at first render time. Styling\n        // is built from user provided `styles` or is inherited from the superclass.\n        this._styles =\n            this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n                this._getUniqueStyles() :\n                this._styles || [];\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Take care not to call `this.styles` multiple times since this generates\n        // new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.styles;\n        const styles = [];\n        if (Array.isArray(userStyles)) {\n            const flatStyles = flattenStyles(userStyles);\n            // As a performance optimization to avoid duplicated styling that can\n            // occur especially when composing via subclassing, de-duplicate styles\n            // preserving the last item in the list. The last item is kept to\n            // try to preserve cascade order with the assumption that it's most\n            // important that last added styles override previous styles.\n            const styleSet = flatStyles.reduceRight((set, s) => {\n                set.add(s);\n                // on IE set.add does not return the set.\n                return set;\n            }, new Set());\n            // Array.from does not work on Set in IE\n            styleSet.forEach((v) => styles.unshift(v));\n        }\n        else if (userStyles) {\n            styles.push(userStyles);\n        }\n        return styles;\n    }\n    /**\n     * Performs element initialization. By default this calls `createRenderRoot`\n     * to create the element `renderRoot` node and captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.renderRoot =\n            this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the `static get styles`\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it.\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        super.update(changedProperties);\n        const templateResult = this.render();\n        if (templateResult instanceof TemplateResult) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method must return\n     * a lit-html TemplateResult. Setting properties inside this method will *not*\n     * trigger the element to update.\n     */\n    render() {\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Render method used to render the lit-html TemplateResult to the element's\n * DOM.\n * @param {TemplateResult} Template to render.\n * @param {Element|DocumentFragment} Node into which to render.\n * @param {String} Element name.\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","import * as AmazonCognitoIdentity from 'amazon-cognito-identity-js'\nimport { LitElement, html, css } from 'lit-element'\n\nclass LoginComponent extends LitElement {\n  static get properties () {\n    return {\n      username: { type: String },\n      password: { type: String },\n      redirectUrl: { type: String },\n      userPoolId: { type: String },\n      clientId: { type: String },\n      redirect: { type: Boolean },\n      errorMessage: { reflect: true }\n    }\n  }\n\n  static get styles () {\n    return css`\n        button {\n            background-color: #4CAF50;\n            color: white;\n            padding: 14px 20px;\n            margin: 8px 0;\n            border: none;\n            cursor: pointer;\n            width: 100%;\n          }\n          \n          button:hover {\n            opacity: 0.8;\n          }\n          \n          .container {\n            padding: 16px;\n          }\n\n          .warning {\n              padding: 16px;\n              color: red;\n          }\n\n          input[type=text], input[type=password] {\n            width: 100%;\n            padding: 12px 20px;\n            margin: 8px 0;\n            display: inline-block;\n            border: 1px solid #ccc;\n            box-sizing: border-box;\n          }          \n          `\n  }\n\n  constructor () {\n    super()\n    this.username = ''\n    this.password = ''\n    this.errorMessage = false\n  }\n\n  render () {\n    if (!this.getUserFromStorage()) {\n      return html`<div class=\"container\">\n            <label for=\"uname\"><b>Username</b></label>\n            <input type=\"text\" placeholder=\"Enter Username\" name=\"uname\" .value=${this.username} @input=${this.handleUsername} required>\n            <label for=\"psw\"><b>Password</b></label>\n            <input type=\"password\" placeholder=\"Enter Password\" name=\"psw\" .value=${this.password} @input=${this.handlePassword} required>\n            ${this.errorMessage ? html`<div class=\"warning\">Invalid Username and/or Password</div>` : ''}    \n            <button @click=${this.clickHandler} type=\"submit\">Login</button>\n        </div>\n        `\n    } else {\n      return ''\n    }\n  }\n\n  attributeChangedCallback (name, oldval, newval) {\n    super.attributeChangedCallback(name, oldval, newval)\n  }\n\n  handleUsername (e) {\n    this.username = e.target.value\n  }\n\n  handlePassword (e) {\n    this.password = e.target.value\n  }\n\n  getUserFromStorage () {\n    const poolData = {\n      UserPoolId: this.userPoolId,\n      ClientId: this.clientId\n    }\n    const userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData)\n    return userPool.getCurrentUser()\n  }\n\n  clickHandler () {\n    const poolData = {\n      UserPoolId: this.userPoolId,\n      ClientId: this.clientId\n    }\n    const userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData)\n    const userData = {\n      Username: this.username,\n      Pool: userPool\n    }\n    const authenicationData = {\n      Username: this.username,\n      Password: this.password\n    }\n    const authenicationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenicationData)\n    const cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData)\n\n    const promise = new Promise(function (resolve, reject) {\n      cognitoUser.authenticateUser(authenicationDetails, {\n        onSuccess: function () {\n          resolve('completed')\n        },\n        onFailure: function () {\n          reject(new Error('..'))\n        }\n      })\n    })\n    promise.then(data => {\n      if (data === 'completed') {\n        if (this.redirect) {\n          window.location.href = this.redirectUrl\n        }\n        this.errorMessage = false\n      }\n    },\n    error => {\n      console.log(error)\n      this.errorMessage = true\n    })\n  }\n}\n\ncustomElements.define('login-component', LoginComponent)\n"],"sourceRoot":""}